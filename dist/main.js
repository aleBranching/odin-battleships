(()=>{"use strict";function e(e){let o=0;const t=e;return{isSunk:()=>o>=t,hit:()=>{o+=1},_length:t,placed:!1,coordinates:void 0}}function o(){const o=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],t=[null,e(4),e(3),e(3),e(2),e(2),e(2),e(1),e(1),e(1),e(1)],r=[],n=e=>{let o=0;return(t=>{for(let t=0;t<r.length;t++)r[t]===e&&o++})(),o<{1:4,2:3,3:2,4:1}[e]},l=()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],a=()=>1===Math.floor(2*Math.random()),s=e=>{const[o,t]=l(),r=a();try{c(e,o,t,r)}catch(o){return s(e)}},c=(e,l,a,s)=>{if(l<0||a<0||l>10||a>10)throw new Error((e=>{console.error("can't place ship here or no more of these ships or ship too big")}));if(!n)throw new Error((e=>{console.error("can't put anymore of these ships")}));let c;if(!(()=>{const t=(()=>{const o=[];if(s){if(s){let t=l;for(let r=0;r<e;r++)if(o.push([t,a]),t++,t>10)throw new Error("Boat out of game!")}}else{let t=a;for(let r=0;r<e;r++)if(o.push([l,t]),t++,t>10)throw new Error("boat out of game!")}return o})();return!!(()=>{let e=!0;return t.forEach((t=>{const r=t[0],n=t[1];0!==o[n][r]&&(e=!1)})),e})()&&(c=[...t],!0)})()||!n(e))throw new Error("most likely ship is overlaping");{const n=(e=>{let o;for(let r=0;r<=10;r++)if(null!=t[r]&&t[r]._length===e&&!1===t[r].placed){o=r;break}return o})(e);t[n].placed=!0,r.push(e),t[n].coordinates=c,c.forEach((e=>{const t=e[0],r=e[1];o[r][t]=n}))}},i=[];return{placeShip:c,gameArena:o,receiveAttack:(e,r)=>{if(0!==o[r][e]){const n=o[r][e];return t[n].hit(),!0}return i.push([e,r]),!1},allShipsSunk:()=>{let e=0;for(let o=1;o<11;o++)t[o].isSunk()&&e++;return e>=10},missedShots:i,currentShipsOBJ:t,placeShipRandomly:s,positionAllShipsRandomlyTemplate:()=>{const e=[],o=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],t=[4,3,3,2,2,2,1,1,1,1];let r=-1;const n=()=>{try{const[s,c]=l(),i=a();return r+=1,10===r?void 0:(e.push(((e,o,t,r,n)=>{if(t<0||r<0||t>10||r>10)throw new Error((e=>{console.error("can't place ship here or no more of these ships or ship too big")}));let l;if((()=>{const a=(()=>{const e=[];if(n){if(n){let n=t;for(let t=0;t<o;t++)if(e.push([n,r]),n++,n>10)throw new Error("Boat out of game!")}}else{let n=r;for(let r=0;r<o;r++)if(e.push([t,n]),n++,n>10)throw new Error("boat out of game!")}return e})();return!!(()=>{let o=!0;return a.forEach((t=>{const r=t[0],n=t[1];0!==e[n][r]&&(o=!1)})),o})()&&(l=[...a],!0)})())return l.forEach((o=>{const t=o[0],r=o[1];e[r][t]=1})),{x:l[0][0],y:l[0][1],length:o,horizontally:n};throw new Error("most likely ship is overlaping")})(o,t[r],s,c,i)),n())}catch(e){return r-=1,n()}};return n(),[e,o]}}}const t=function(){const e=(e,o,t)=>document.querySelector(`.${e} .row[data-y="${t}"] .box[data-x="${o}"]`);return{renderExistingBoats:(o,t)=>{const r=([o,r])=>{e(t,o,r).style.backgroundColor="grey"};o.currentShipsOBJ.forEach((e=>{null==e||e.coordinates.forEach(r)}))},getBoxDOM:e,getXandY:e=>{const{x:o}=e.target.dataset,{y:t}=e.target.parentElement.dataset;return[o,t]},changeAllBoxesOfShip:(o,t,r)=>{const{coordinates:n}=r.currentShipsOBJ[o];n.forEach((o=>{const[r,n]=o;e(`${t}`,r,n).style.backgroundColor="red"}))},getBoxDOMsShipIndex:(e,o,t)=>e.gameArena[t][o],changeBoxColour:(o,t,r,n)=>{e(o,t,r).style.backgroundColor=n},toggleHovering:()=>{document.querySelector(".enemyArea").classList.toggle("hovering")},renderTemplateBoats:o=>{o.forEach(((t,r)=>{t.forEach(((t,n)=>{1===o[r][n]&&(e("positionArea",n,r).style.backgroundColor="grey")}))}))},resetTemplateColours:()=>{const o=(o,t)=>{e("positionArea",o,t).style.backgroundColor="white"};for(let e=0;e<10;e++)for(let t=0;t<10;t++)o(e,t)}}}(),r=document.querySelector("#randomise"),n=document.querySelector("#submit"),l=document.querySelector("#templateDialog");let a,s=[];r.addEventListener("click",(()=>{t.resetTemplateColours();const e=o(),[r,n]=e.positionAllShipsRandomlyTemplate();a=n,s=r,console.log("the positions",r),console.table(n),t.renderTemplateBoats(n)})),n.addEventListener("click",(()=>{l.close(),c(s)}));const c=()=>{const e=o(),r=o();((e,o)=>{for(let o=0;o<10;o++)e.placeShip(s[o].length,s[o].x,s[o].y,s[o].horizontally);console.table(e.gameArena),console.table(a);for(let e=0;e<10;e++)o.placeShip(s[e].length,s[e].x,s[e].y,s[e].horizontally);console.log("enemyBoard"),console.table(o.gameArena),console.log("object of 4 coord",o.currentShipsOBJ[1].coordinates)})(e,r);let n=!0;t.renderExistingBoats(e,"playerArea");const l=e=>{const o=e.target,[l,a]=t.getXandY(e),s=t.getBoxDOMsShipIndex(r,l,a);if(!o.dataset.hit){if(o.dataset.hit=!0,i(),r.receiveAttack(l,a)){const e=r.currentShipsOBJ[s];o.style.backgroundColor="grey",e.isSunk()&&t.changeAllBoxesOfShip(s,"enemyArea",r),r.allShipsSunk()&&(alert("game Over"),n=!1)}else o.style.backgroundColor="rgb(201, 201, 178)";u()}},c=()=>{document.querySelectorAll(".enemyArea .row .box").forEach((e=>{e.addEventListener("click",l,{once:!0})}))},i=()=>{document.querySelectorAll(".enemyArea .row .box").forEach((e=>{e.removeEventListener("click",l)})),t.toggleHovering()},h=function(e){const o=[],t=()=>{const e=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());return void 0!==o.find((o=>o[0]===e&&o[1]===r))?t():[e,r]};return{attack:()=>{const[r,n]=t(),l=e.receiveAttack(r,n);return o.push([r,n]),[l,r,n]}}}(e),u=()=>{if(!n)return;const[o,r,l]=h.attack(),a=t.getBoxDOM("playerArea",r,l);if(o){const o=t.getBoxDOMsShipIndex(e,r,l),n=e.currentShipsOBJ[o];a.style.backgroundColor="pink",c(),n.isSunk()&&t.changeAllBoxesOfShip(o,"playerArea",e)}else a.style.backgroundColor="rgb(201, 201, 178)",c()};c()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUcsRUFBaUJqQyxFQUFhbkIsb0JBQ2xDeUIsRUFDQW5GLEVBQ0FDLEdBRUkyRixFQUFVVCxFQUFnQmhHLGdCQUFnQjJILEdBRWhERCxFQUFPaEUsTUFBTUMsZ0JBQWtCLE9BQy9CaUQsSUFDSUgsRUFBUS9HLFVBQ1ZnRyxFQUFhekIscUJBQ1gwRCxFQUNBLGFBQ0EzQixFQUdOLE1BRUUwQixFQUFPaEUsTUFBTUMsZ0JBQWtCLHFCQUMvQmlELEdBQ0YsRUFHRkEsR0FBYSxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwcy8uL3NyYy9sb2dpYy9zaGlwLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcHMvLi9zcmMvbG9naWMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcHMvLi9zcmMvbG9naWMvVUljb250cm9sbGVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcHMvLi9zcmMvbG9naWMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwcy8uL3NyYy9sb2dpYy9jb21wdXRlclBsYXllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaGlwKGxlbmd0aCkge1xuICBsZXQgX2hpdHMgPSAwO1xuICBjb25zdCBfbGVuZ3RoID0gbGVuZ3RoO1xuICBjb25zdCBwbGFjZWQgPSBmYWxzZTtcbiAgbGV0IGNvb3JkaW5hdGVzO1xuXG4gIGNvbnN0IGhpdCA9ICgpID0+IHtcbiAgICBfaGl0cyArPSAxO1xuICB9O1xuXG4gIGNvbnN0IGlzU3VuayA9ICgpID0+IF9oaXRzID49IF9sZW5ndGg7XG5cbiAgLy8gICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAvLyAgIHRoaXMuX3N1bmsgPSBmYWxzZTtcbiAgLy8gICB0aGlzLl9oaXRzID0gMDtcblxuICAvLyAgIGZ1bmN0aW9uIGhpdCgpIHtcbiAgLy8gICAgIHRoaXMuX2hpdHMgPSArMTtcbiAgLy8gICAgIC8vXG4gIC8vICAgfVxuXG4gIC8vICAgZnVuY3Rpb24gaXNTdW5rKCkge1xuICAvLyAgICAgcmV0dXJuIHRoaXMuX2hpdHMgPj0gbGVuZ3RoID8gdHJ1ZSA6IGZhbHNlO1xuICAvLyAgICAgLy9cbiAgLy8gICB9XG5cbiAgcmV0dXJuIHsgaXNTdW5rLCBoaXQsIF9sZW5ndGgsIHBsYWNlZCwgY29vcmRpbmF0ZXMgfTtcbn1cbiIsImltcG9ydCBTaGlwIGZyb20gXCIuL3NoaXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZWJvYXJkKCkge1xuICAvLyBlYWNoIG51bWJlciBjb3JyZXNwb25kcyB0byBpbmRleCBvZiBjdXJyZW50U2hpcHNPQkpcbiAgY29uc3QgZ2FtZUFyZW5hID0gW1xuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgXTtcblxuICBjb25zdCBjdXJyZW50U2hpcHNPQkogPSBbXG4gICAgbnVsbCxcbiAgICBTaGlwKDQpLFxuICAgIFNoaXAoMyksXG4gICAgU2hpcCgzKSxcbiAgICBTaGlwKDIpLFxuICAgIFNoaXAoMiksXG4gICAgU2hpcCgyKSxcbiAgICBTaGlwKDEpLFxuICAgIFNoaXAoMSksXG4gICAgU2hpcCgxKSxcbiAgICBTaGlwKDEpLFxuICBdO1xuXG4gIGNvbnN0IG5ld1NoaXBJbmRleCA9IChsZW5ndGgpID0+IHtcbiAgICBsZXQgaW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJUSElTXCIsIGN1cnJlbnRTaGlwc09CSltpXS5fbGVuZ3RoKTtcbiAgICAgIGlmIChjdXJyZW50U2hpcHNPQkpbaV0gPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudFNoaXBzT0JKW2ldLl9sZW5ndGggPT09IGxlbmd0aCAmJlxuICAgICAgICBjdXJyZW50U2hpcHNPQkpbaV0ucGxhY2VkID09PSBmYWxzZVxuICAgICAgKSB7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfTtcblxuICBjb25zdCBfcGxhY2VkU2hpcHMgPSBbXTtcblxuICBjb25zdCBzaGlwTnVtYmVyUnVsZXNQYXNzZWQgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgX2FsbG93ZWRPY2N1cmFuY2VzID0ge1xuICAgICAgMTogNCxcbiAgICAgIDI6IDMsXG4gICAgICAzOiAyLFxuICAgICAgNDogMSxcbiAgICB9O1xuICAgIGxldCBsZW5ndGhPY2NjdXJlZCA9IDA7XG4gICAgY29uc3QgX29jY3VyYW5jZXMgPSAodGFyZ2V0TGVuZ3RoKSA9PiB7XG4gICAgICAvLyBsZXQgY291bnRlciA9IDA7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX3BsYWNlZFNoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChfcGxhY2VkU2hpcHNbaV0gPT09IGxlbmd0aCkge1xuICAgICAgICAgIGxlbmd0aE9jY2N1cmVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIF9vY2N1cmFuY2VzKCk7XG5cbiAgICBpZiAobGVuZ3RoT2NjY3VyZWQgPCBfYWxsb3dlZE9jY3VyYW5jZXNbbGVuZ3RoXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGNvbnN0IGdldFJhbmRvbUNvb3JkID0gKCkgPT4ge1xuICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICByZXR1cm4gW3gsIHldO1xuICB9O1xuXG4gIGNvbnN0IGdldFRydWVPckZhbHNlID0gKCkgPT4ge1xuICAgIGNvbnN0IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgIGlmIChudW1iZXIgPT09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgcGxhY2VTaGlwUmFuZG9tbHkgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgW3gsIHldID0gZ2V0UmFuZG9tQ29vcmQoKTtcbiAgICBjb25zdCBob3Jpem9udGFsbHkgPSBnZXRUcnVlT3JGYWxzZSgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHBsYWNlU2hpcChsZW5ndGgsIHgsIHksIGhvcml6b250YWxseSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHBsYWNlU2hpcFJhbmRvbWx5KGxlbmd0aCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBsYWNlU2hpcCA9IChsZW5ndGgsIHgsIHksIGhvcml6b250YWxseSkgPT4ge1xuICAgIC8vIHRlc3QgdmFsaWRpdHkgb2YgY28tb3JkIG9yIGFtb3VudCBvZiBzaGlwc1xuICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID4gMTAgfHwgeSA+IDEwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImNhbid0IHBsYWNlIHNoaXAgaGVyZSBvciBubyBtb3JlIG9mIHRoZXNlIHNoaXBzIG9yIHNoaXAgdG9vIGJpZ1wiXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXNoaXBOdW1iZXJSdWxlc1Bhc3NlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYW4ndCBwdXQgYW55bW9yZSBvZiB0aGVzZSBzaGlwc1wiKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBjaGVja2VkQ29vcmQ7XG5cbiAgICBjb25zdCBjaGVja0Nvb3JkID0gKCkgPT4ge1xuICAgICAgLy8gd2hhdCB3b3VsZCB0aGV5IGJlIG5haXZlbHlcblxuICAgICAgY29uc3QgbmFpdmVDb29yID0gKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgaWYgKCFob3Jpem9udGFsbHkpIHtcbiAgICAgICAgICBsZXQgbmV3WSA9IHk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3gsIG5ld1ldKTtcbiAgICAgICAgICAgIG5ld1krKztcbiAgICAgICAgICAgIGlmIChuZXdZID4gMTApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYm9hdCBvdXQgb2YgZ2FtZSFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGhvcml6b250YWxseSkge1xuICAgICAgICAgIGxldCBuZXdYID0geDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbbmV3WCwgeV0pO1xuICAgICAgICAgICAgbmV3WCsrO1xuICAgICAgICAgICAgaWYgKG5ld1ggPiAxMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb2F0IG91dCBvZiBnYW1lIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSkoKTtcblxuICAgICAgY29uc3QgY2hlY2tGb3JPdmVybGFwID0gKCkgPT4ge1xuICAgICAgICBsZXQgYWxsb3dlZCA9IHRydWU7XG5cbiAgICAgICAgbmFpdmVDb29yLmZvckVhY2goKGNvb3JkaW5hdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBhblggPSBjb29yZGluYXRlWzBdO1xuICAgICAgICAgIGNvbnN0IGFuWSA9IGNvb3JkaW5hdGVbMV07XG5cbiAgICAgICAgICAvLyBpbiBnYW1lYXJlbmEgZmlyc3QgaGF2ZSB0byBhY2Nlc3MgWVxuICAgICAgICAgIC8vICBTd2FwcGVkIGhlcmVcbiAgICAgICAgICBpZiAoZ2FtZUFyZW5hW2FuWV1bYW5YXSAhPT0gMCkge1xuICAgICAgICAgICAgYWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAoY2hlY2tGb3JPdmVybGFwKCkpIHtcbiAgICAgICAgY2hlY2tlZENvb3JkID0gWy4uLm5haXZlQ29vcl07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIGNvbnNvbGUubG9nKFwiVEhJU1wiLCBzaGlwTnVtYmVyUnVsZXNQYXNzZWQobGVuZ3RoKSk7XG4gICAgaWYgKGNoZWNrQ29vcmQoKSAmJiBzaGlwTnVtYmVyUnVsZXNQYXNzZWQobGVuZ3RoKSkge1xuICAgICAgY29uc3Qgc2hpcE9CSkluZGV4ID0gbmV3U2hpcEluZGV4KGxlbmd0aCk7XG4gICAgICBjdXJyZW50U2hpcHNPQkpbc2hpcE9CSkluZGV4XS5wbGFjZWQgPSB0cnVlO1xuICAgICAgX3BsYWNlZFNoaXBzLnB1c2gobGVuZ3RoKTtcblxuICAgICAgY3VycmVudFNoaXBzT0JKW3NoaXBPQkpJbmRleF0uY29vcmRpbmF0ZXMgPSBjaGVja2VkQ29vcmQ7XG4gICAgICBjaGVja2VkQ29vcmQuZm9yRWFjaCgoYUNvb3JkaW5hdGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3eCA9IGFDb29yZGluYXRlWzBdO1xuICAgICAgICBjb25zdCBuZXd5ID0gYUNvb3JkaW5hdGVbMV07XG5cbiAgICAgICAgLy8gc3dhcHBlZCBoZXJlXG4gICAgICAgIGdhbWVBcmVuYVtuZXd5XVtuZXd4XSA9IHNoaXBPQkpJbmRleDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb3N0IGxpa2VseSBzaGlwIGlzIG92ZXJsYXBpbmdcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIGdldCBwbGFjZW1lbnQgaW5mbyBvZiBzaGlwcyB0aGF0IGFyZSBsZWdhbCBhbmQgZ2V0IGEgZ2FtZWJvYXJkIHRvIHJlbmRlciBhIHByZXZpZXdcblxuICBjb25zdCBwb3NpdGlvbkFsbFNoaXBzUmFuZG9tbHlUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGNvbnN0IHBvc2l0aW9uR2FtZUFyZW5hID0gW1xuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIF07XG5cbiAgICBjb25zdCBsZW5ndGhzID0gWzQsIDMsIDMsIDIsIDIsIDIsIDEsIDEsIDEsIDFdO1xuXG4gICAgbGV0IGxlbmd0aHNJbmRleCA9IC0xO1xuICAgIGNvbnN0IHRyeVJhbmRvbVBsYWNlbWVudCA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IGdldFJhbmRvbUNvb3JkKCk7XG4gICAgICAgIGNvbnN0IGhvcml6b250YWxseSA9IGdldFRydWVPckZhbHNlKCk7XG5cbiAgICAgICAgbGVuZ3Roc0luZGV4ICs9IDE7XG5cbiAgICAgICAgaWYgKGxlbmd0aHNJbmRleCA9PT0gMTApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goXG4gICAgICAgICAgICBwb3NpdGlvblNoaXBSYW5kb21seShcbiAgICAgICAgICAgICAgcG9zaXRpb25HYW1lQXJlbmEsXG4gICAgICAgICAgICAgIGxlbmd0aHNbbGVuZ3Roc0luZGV4XSxcbiAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJldHVybiB0cnlSYW5kb21QbGFjZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbGVuZ3Roc0luZGV4IC09IDE7XG4gICAgICAgIHJldHVybiB0cnlSYW5kb21QbGFjZW1lbnQoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRyeVJhbmRvbVBsYWNlbWVudCgpO1xuXG4gICAgcmV0dXJuIFtyZXN1bHQsIHBvc2l0aW9uR2FtZUFyZW5hXTtcbiAgfTtcblxuICAvLyBmb3IgdGhlIHRlbXBsYXRlXG4gIGNvbnN0IHBvc2l0aW9uU2hpcFJhbmRvbWx5ID0gKGZha2VBcmVuYSwgbGVuZ3RoLCB4LCB5LCBob3Jpem9udGFsbHkpID0+IHtcbiAgICAvLyB0ZXN0IHZhbGlkaXR5IG9mIGNvLW9yZCBvciBhbW91bnQgb2Ygc2hpcHNcbiAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+IDEwIHx8IHkgPiAxMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJjYW4ndCBwbGFjZSBzaGlwIGhlcmUgb3Igbm8gbW9yZSBvZiB0aGVzZSBzaGlwcyBvciBzaGlwIHRvbyBiaWdcIlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IGNoZWNrZWRDb29yZDtcblxuICAgIGNvbnN0IGNoZWNrQ29vcmQgPSAoKSA9PiB7XG4gICAgICAvLyB3aGF0IHdvdWxkIHRoZXkgYmUgbmFpdmVseVxuXG4gICAgICBjb25zdCBuYWl2ZUNvb3IgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBpZiAoIWhvcml6b250YWxseSkge1xuICAgICAgICAgIGxldCBuZXdZID0geTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbeCwgbmV3WV0pO1xuICAgICAgICAgICAgbmV3WSsrO1xuICAgICAgICAgICAgaWYgKG5ld1kgPiAxMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJib2F0IG91dCBvZiBnYW1lIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaG9yaXpvbnRhbGx5KSB7XG4gICAgICAgICAgbGV0IG5ld1ggPSB4O1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtuZXdYLCB5XSk7XG4gICAgICAgICAgICBuZXdYKys7XG4gICAgICAgICAgICBpZiAobmV3WCA+IDEwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJvYXQgb3V0IG9mIGdhbWUhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KSgpO1xuXG4gICAgICBjb25zdCBjaGVja0Zvck92ZXJsYXAgPSAoKSA9PiB7XG4gICAgICAgIGxldCBhbGxvd2VkID0gdHJ1ZTtcblxuICAgICAgICBuYWl2ZUNvb3IuZm9yRWFjaCgoY29vcmRpbmF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGFuWCA9IGNvb3JkaW5hdGVbMF07XG4gICAgICAgICAgY29uc3QgYW5ZID0gY29vcmRpbmF0ZVsxXTtcblxuICAgICAgICAgIC8vIGluIGdhbWVhcmVuYSBmaXJzdCBoYXZlIHRvIGFjY2VzcyBZXG5cbiAgICAgICAgICBpZiAoZmFrZUFyZW5hW2FuWV1bYW5YXSAhPT0gMCkge1xuICAgICAgICAgICAgYWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAoY2hlY2tGb3JPdmVybGFwKCkpIHtcbiAgICAgICAgY2hlY2tlZENvb3JkID0gWy4uLm5haXZlQ29vcl07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIGNvbnNvbGUubG9nKFwiVEhJU1wiLCBzaGlwTnVtYmVyUnVsZXNQYXNzZWQobGVuZ3RoKSk7XG4gICAgaWYgKGNoZWNrQ29vcmQoKSkge1xuICAgICAgLy8gY29uc3Qgc2hpcE9CSkluZGV4ID0gbmV3U2hpcEluZGV4KGxlbmd0aCk7XG4gICAgICAvLyBjdXJyZW50U2hpcHNPQkpbc2hpcE9CSkluZGV4XS5wbGFjZWQgPSB0cnVlO1xuICAgICAgLy8gX3BsYWNlZFNoaXBzLnB1c2gobGVuZ3RoKTtcblxuICAgICAgLy8gY3VycmVudFNoaXBzT0JKW3NoaXBPQkpJbmRleF0uY29vcmRpbmF0ZXMgPSBjaGVja2VkQ29vcmQ7XG4gICAgICBjaGVja2VkQ29vcmQuZm9yRWFjaCgoYUNvb3JkaW5hdGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3eCA9IGFDb29yZGluYXRlWzBdO1xuICAgICAgICBjb25zdCBuZXd5ID0gYUNvb3JkaW5hdGVbMV07XG5cbiAgICAgICAgZmFrZUFyZW5hW25ld3ldW25ld3hdID0gMTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogY2hlY2tlZENvb3JkWzBdWzBdLFxuICAgICAgICB5OiBjaGVja2VkQ29vcmRbMF1bMV0sXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgaG9yaXpvbnRhbGx5LFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibW9zdCBsaWtlbHkgc2hpcCBpcyBvdmVybGFwaW5nXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBtaXNzZWRTaG90cyA9IFtdO1xuXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoeCwgeSkgPT4ge1xuICAgIGlmIChnYW1lQXJlbmFbeV1beF0gIT09IDApIHtcbiAgICAgIGNvbnN0IHNoaXBPQkpJbmRleCA9IGdhbWVBcmVuYVt5XVt4XTtcbiAgICAgIGN1cnJlbnRTaGlwc09CSltzaGlwT0JKSW5kZXhdLmhpdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG1pc3NlZFNob3RzLnB1c2goW3gsIHldKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgYWxsU2hpcHNTdW5rID0gKCkgPT4ge1xuICAgIGxldCBjb3VudGVyID0gMDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDExOyBpKyspIHtcbiAgICAgIGlmIChjdXJyZW50U2hpcHNPQkpbaV0uaXNTdW5rKCkpIHtcbiAgICAgICAgY291bnRlcisrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY291bnRlciA+PSAxMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHBsYWNlU2hpcCxcbiAgICBnYW1lQXJlbmEsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICBhbGxTaGlwc1N1bmssXG4gICAgbWlzc2VkU2hvdHMsXG4gICAgY3VycmVudFNoaXBzT0JKLFxuICAgIHBsYWNlU2hpcFJhbmRvbWx5LFxuICAgIHBvc2l0aW9uQWxsU2hpcHNSYW5kb21seVRlbXBsYXRlLFxuICB9O1xufVxuIiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIFVJY29udHJvbGxlcigpIHtcbiAgY29uc3QgZ2V0Qm94RE9NID0gKGFyZWEsIHgsIHkpID0+XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YXJlYX0gLnJvd1tkYXRhLXk9XCIke3l9XCJdIC5ib3hbZGF0YS14PVwiJHt4fVwiXWApO1xuXG4gIGNvbnN0IHJlbmRlckV4aXN0aW5nQm9hdHMgPSAoZ2FtZUFyZW5hLCBwbGF5ZXJBcmVhRE9NKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlRWFjaERPTUNvb3JkaW5hdGUgPSAoW3gsIHldKSA9PiB7XG4gICAgICAvLyBUT0RPOiBmaWd1cmUgb3V0IHdoeSB0aGUgY29vcmRpbmF0ZXMgbmVlZCB0byBiZSBzd2FwcGVkIGhlcmVcbiAgICAgIGdldEJveERPTShwbGF5ZXJBcmVhRE9NLCB4LCB5KS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbiAgICB9O1xuXG4gICAgZ2FtZUFyZW5hLmN1cnJlbnRTaGlwc09CSi5mb3JFYWNoKChhU2hpcCkgPT4ge1xuICAgICAgaWYgKGFTaGlwID09IG51bGwpIHtcbiAgICAgICAgLy8gbnVsbFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImhlcmVcIiwgYVNoaXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYVNoaXAuY29vcmRpbmF0ZXMuZm9yRWFjaCh1cGRhdGVFYWNoRE9NQ29vcmRpbmF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcmVzZXRUZW1wbGF0ZUNvbG91cnMgPSAoKSA9PiB7XG4gICAgLy8gbGV0IHBvc2l0aW9uQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9zaXRpb25BcmVhXCIpXG5cbiAgICBjb25zdCB1cGRhdGVFYWNoRE9NQ29vcmRpbmF0ZSA9ICh4LCB5KSA9PiB7XG4gICAgICBnZXRCb3hET00oXCJwb3NpdGlvbkFyZWFcIiwgeCwgeSkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4KyspIHtcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgMTA7IHkrKykge1xuICAgICAgICB1cGRhdGVFYWNoRE9NQ29vcmRpbmF0ZSh4LCB5KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyVGVtcGxhdGVCb2F0cyA9IChnYW1lQXJlbmFDb29yZGluYXRlcykgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZUVhY2hET01Db29yZGluYXRlID0gKHgsIHkpID0+IHtcbiAgICAgIGdldEJveERPTShcInBvc2l0aW9uQXJlYVwiLCB4LCB5KS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbiAgICB9O1xuXG4gICAgZ2FtZUFyZW5hQ29vcmRpbmF0ZXMuZm9yRWFjaCgoYVJvdywgeUluZGV4KSA9PiB7XG4gICAgICBhUm93LmZvckVhY2goKGFSb3dDb29yZCwgeEluZGV4KSA9PiB7XG4gICAgICAgIGlmIChnYW1lQXJlbmFDb29yZGluYXRlc1t5SW5kZXhdW3hJbmRleF0gPT09IDEpIHtcbiAgICAgICAgICB1cGRhdGVFYWNoRE9NQ29vcmRpbmF0ZSh4SW5kZXgsIHlJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGNoYW5nZUJveENvbG91ciA9IChhcmVhLCB4LCB5LCBjb2xvdXIpID0+IHtcbiAgICBjb25zdCBoaXRCb3hET00gPSBnZXRCb3hET00oYXJlYSwgeCwgeSk7XG4gICAgaGl0Qm94RE9NLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG91cjtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVIb3ZlcmluZyA9ICgpID0+IHtcbiAgICBjb25zdCBhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbmVteUFyZWFcIik7XG4gICAgYXJlYS5jbGFzc0xpc3QudG9nZ2xlKFwiaG92ZXJpbmdcIik7XG4gIH07XG5cbiAgY29uc3QgZ2V0Qm94RE9Nc1NoaXBJbmRleCA9IChnYW1lQXJlbmEsIHgsIHkpID0+IHtcbiAgICBjb25zdCBzaGlwSW5kZXggPSBnYW1lQXJlbmEuZ2FtZUFyZW5hW3ldW3hdO1xuICAgIHJldHVybiBzaGlwSW5kZXg7XG4gIH07XG5cbiAgY29uc3QgY2hhbmdlQWxsQm94ZXNPZlNoaXAgPSAoc2hpcEluZGV4LCBhcmVhQ2xhc3MsIGdhbWVBcmVuYSkgPT4ge1xuICAgIGNvbnN0IHsgY29vcmRpbmF0ZXMgfSA9IGdhbWVBcmVuYS5jdXJyZW50U2hpcHNPQkpbc2hpcEluZGV4XTtcbiAgICBjb29yZGluYXRlcy5mb3JFYWNoKChhQ29vcmQpID0+IHtcbiAgICAgIGNvbnN0IFtzaGlwWCwgc2hpcFldID0gYUNvb3JkO1xuICAgICAgZ2V0Qm94RE9NKGAke2FyZWFDbGFzc31gLCBzaGlwWCwgc2hpcFkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gc3dhcHBlZCBoZXJlXG4gIGNvbnN0IGdldFhhbmRZID0gKGUpID0+IHtcbiAgICBjb25zdCB7IHggfSA9IGUudGFyZ2V0LmRhdGFzZXQ7XG4gICAgY29uc3QgeyB5IH0gPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQ7XG5cbiAgICByZXR1cm4gW3gsIHldO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVuZGVyRXhpc3RpbmdCb2F0cyxcbiAgICBnZXRCb3hET00sXG4gICAgZ2V0WGFuZFksXG4gICAgY2hhbmdlQWxsQm94ZXNPZlNoaXAsXG4gICAgZ2V0Qm94RE9Nc1NoaXBJbmRleCxcbiAgICBjaGFuZ2VCb3hDb2xvdXIsXG4gICAgdG9nZ2xlSG92ZXJpbmcsXG4gICAgcmVuZGVyVGVtcGxhdGVCb2F0cyxcbiAgICByZXNldFRlbXBsYXRlQ29sb3VycyxcbiAgfTtcbn0pKCk7XG4iLCJpbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL2dhbWVib2FyZFwiO1xuaW1wb3J0IFVJY29udHJvbGxlciBmcm9tIFwiLi9VSWNvbnRyb2xsZXJcIjtcbmltcG9ydCBlbmVteVBsYXllciBmcm9tIFwiLi9jb21wdXRlclBsYXllclwiO1xuLy8gaW1wb3J0IHsgY2xpIH0gZnJvbSBcIndlYnBhY2tcIjtcbi8vIGltcG9ydCBlbmVteVBsYXllciBmcm9tIFwiLi9jb21wdXRlclBsYXllclwiO1xuXG4vLyBjb25zdCB0ZXN0ID0gZ2V0Qm94RE9NKFwiZW5lbXlBcmVhXCIsIDAsIDApO1xuXG5jb25zdCByYW5kb21pc2VCVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JhbmRvbWlzZVwiKTtcbmNvbnN0IHN1Ym1pdFBsYWNlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdFwiKTtcbmNvbnN0IHRlbXBsYXRlRGlhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0ZW1wbGF0ZURpYWxvZ1wiKTtcblxubGV0IHRlbXBsYXRlUG9zaXRpb25zID0gW107XG5sZXQgdGVtcGxhdGVBcmVuYTtcblxucmFuZG9taXNlQlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIFVJY29udHJvbGxlci5yZXNldFRlbXBsYXRlQ29sb3VycygpO1xuICBjb25zdCB0ZXN0R2FtZWJvYXJkID0gR2FtZWJvYXJkKCk7XG4gIGNvbnN0IFtyZXN1bHQsIHBvc2l0aW9uR2FtZUFyZW5hXSA9XG4gICAgdGVzdEdhbWVib2FyZC5wb3NpdGlvbkFsbFNoaXBzUmFuZG9tbHlUZW1wbGF0ZSgpO1xuXG4gIHRlbXBsYXRlQXJlbmEgPSBwb3NpdGlvbkdhbWVBcmVuYTtcbiAgdGVtcGxhdGVQb3NpdGlvbnMgPSByZXN1bHQ7XG4gIGNvbnNvbGUubG9nKFwidGhlIHBvc2l0aW9uc1wiLCByZXN1bHQpO1xuICBjb25zb2xlLnRhYmxlKHBvc2l0aW9uR2FtZUFyZW5hKTtcbiAgVUljb250cm9sbGVyLnJlbmRlclRlbXBsYXRlQm9hdHMocG9zaXRpb25HYW1lQXJlbmEpO1xufSk7XG5cbnN1Ym1pdFBsYWNlbWVudHMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdGVtcGxhdGVEaWFsb2cuY2xvc2UoKTtcblxuICBnYW1lTG9vcCh0ZW1wbGF0ZVBvc2l0aW9ucyk7XG59KTtcblxuY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XG4gIC8vIFs0LCA0LCA0LCA0LCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcblxuICBjb25zdCBzZXRVcFBsYWNlbWVudHMgPSAoZ2FtZWJvYXJkMSwgZ2FtZWJvYXJkMikgPT4ge1xuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwKDMsIDYsIDAsIHRydWUpO3BsYXllckdhbWVib2FyZFxuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwKDMsIDAsIDEsIHRydWUpO1xuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwKDIsIDAsIDMsIHRydWUpO1xuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwKDIsIDAsIDUsIHRydWUpO1xuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwKDIsIDksIDYsIGZhbHNlKTtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcCgxLCAyLCA3LCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcCgxLCAzLCA4LCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcCgxLCA0LCA5LCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcCgxLCA3LCA5LCB0cnVlKTtcbiAgICAvLyAvLyBkZWJ1Z2dlcjtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcCg0LCAwLCAwLCB0cnVlKTtcbiAgICAvLyBkZWJ1Z2dlcjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoXG4gICAgICAgIHRlbXBsYXRlUG9zaXRpb25zW2ldLmxlbmd0aCxcbiAgICAgICAgdGVtcGxhdGVQb3NpdGlvbnNbaV0ueCxcbiAgICAgICAgdGVtcGxhdGVQb3NpdGlvbnNbaV0ueSxcbiAgICAgICAgdGVtcGxhdGVQb3NpdGlvbnNbaV0uaG9yaXpvbnRhbGx5XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnNvbGUudGFibGUoZ2FtZWJvYXJkMS5nYW1lQXJlbmEpO1xuICAgIGNvbnNvbGUudGFibGUodGVtcGxhdGVBcmVuYSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGdhbWVib2FyZDIucGxhY2VTaGlwKFxuICAgICAgICB0ZW1wbGF0ZVBvc2l0aW9uc1tpXS5sZW5ndGgsXG4gICAgICAgIHRlbXBsYXRlUG9zaXRpb25zW2ldLngsXG4gICAgICAgIHRlbXBsYXRlUG9zaXRpb25zW2ldLnksXG4gICAgICAgIHRlbXBsYXRlUG9zaXRpb25zW2ldLmhvcml6b250YWxseVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcImVuZW15Qm9hcmRcIik7XG4gICAgY29uc29sZS50YWJsZShnYW1lYm9hcmQyLmdhbWVBcmVuYSk7XG4gICAgY29uc29sZS5sb2coXCJvYmplY3Qgb2YgNCBjb29yZFwiLCBnYW1lYm9hcmQyLmN1cnJlbnRTaGlwc09CSlsxXS5jb29yZGluYXRlcyk7XG5cbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcFJhbmRvbWx5KDQpO1xuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwUmFuZG9tbHkoMyk7XG4gICAgLy8gZ2FtZWJvYXJkMS5wbGFjZVNoaXBSYW5kb21seSgzKTtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcFJhbmRvbWx5KDIpO1xuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwUmFuZG9tbHkoMik7XG4gICAgLy8gZ2FtZWJvYXJkMS5wbGFjZVNoaXBSYW5kb21seSgyKTtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcFJhbmRvbWx5KDEpO1xuICAgIC8vIGdhbWVib2FyZDEucGxhY2VTaGlwUmFuZG9tbHkoMSk7XG4gICAgLy8gZ2FtZWJvYXJkMS5wbGFjZVNoaXBSYW5kb21seSgxKTtcbiAgICAvLyBnYW1lYm9hcmQxLnBsYWNlU2hpcFJhbmRvbWx5KDEpO1xuICAgIC8vIGRlYnVnZ2VyO1xuXG4gICAgLy8gVU5DT01NRU5UIExBVEVSOiBwbGFjaW5nIGVuZW15IHNoaXBzIHJhbmRvbWx5XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXBSYW5kb21seSg0KTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcFJhbmRvbWx5KDMpO1xuICAgIC8vIGdhbWVib2FyZDIucGxhY2VTaGlwUmFuZG9tbHkoMyk7XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXBSYW5kb21seSgyKTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcFJhbmRvbWx5KDIpO1xuICAgIC8vIGdhbWVib2FyZDIucGxhY2VTaGlwUmFuZG9tbHkoMik7XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXBSYW5kb21seSgxKTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcFJhbmRvbWx5KDEpO1xuICAgIC8vIGdhbWVib2FyZDIucGxhY2VTaGlwUmFuZG9tbHkoMSk7XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXBSYW5kb21seSgxKTtcblxuICAgIC8vIGNvbnN0IHJlc3VsdCA9IGdhbWVib2FyZDEucGxhY2VTaGlwKDEsIDAsIDAsIHRydWUpO1xuICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcCg0LCAwLCAwLCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcCgzLCA2LCAwLCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcCgzLCAwLCAxLCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcCgyLCAwLCAzLCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcCgyLCAwLCA1LCB0cnVlKTtcbiAgICAvLyBnYW1lYm9hcmQyLnBsYWNlU2hpcCgyLCA5LCA2LCBmYWxzZSk7XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgMiwgNywgdHJ1ZSk7XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgMywgOCwgdHJ1ZSk7XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgNCwgOSwgdHJ1ZSk7XG4gICAgLy8gZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgNywgOSwgdHJ1ZSk7XG4gIH07XG5cbiAgLy8gICBkZWJ1Z2dlcjtcblxuICAvLyAgIHdoaWxlICghZ2FtZU92ZXIpIHtcbiAgY29uc3QgcGxheWVyR2FtZWJvYXJkID0gR2FtZWJvYXJkKCk7XG4gIGNvbnN0IGVuZW15R2FtZWJvYXJkID0gR2FtZWJvYXJkKCk7XG4gIHNldFVwUGxhY2VtZW50cyhwbGF5ZXJHYW1lYm9hcmQsIGVuZW15R2FtZWJvYXJkKTtcbiAgbGV0IGdhbWVPSyA9IHRydWU7XG5cbiAgVUljb250cm9sbGVyLnJlbmRlckV4aXN0aW5nQm9hdHMocGxheWVyR2FtZWJvYXJkLCBcInBsYXllckFyZWFcIik7XG4gIC8vICAgVUljb250cm9sbGVyLmVuZW15Qm94RE9NTGlzdGVuZXIoZW5lbXlHYW1lYm9hcmQpO1xuICAvLyAgIGNvbnNvbGUubG9nKFwiaGFwcGVuc1wiKTtcblxuICBjb25zdCBoYW5kbGVQbGF5ZXJDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgYm94RG9tID0gZS50YXJnZXQ7XG4gICAgLy8gY29uc29sZS5sb2coXCJhdHRlbXB0XCIsIGUudGFyZ2V0LmRhdGFzZXQpO1xuICAgIGNvbnN0IFt4LCB5XSA9IFVJY29udHJvbGxlci5nZXRYYW5kWShlKTtcbiAgICBjb25zdCBzaGlwSW5kZXggPSBVSWNvbnRyb2xsZXIuZ2V0Qm94RE9Nc1NoaXBJbmRleChlbmVteUdhbWVib2FyZCwgeCwgeSk7XG4gICAgLy8gY29uc29sZS5sb2coXCJldmFsdWF0aW5nXCIsIGJveERvbS5kYXRhc2V0LmhpdCk7XG5cbiAgICBpZiAoIWJveERvbS5kYXRhc2V0LmhpdCkge1xuICAgICAgYm94RG9tLmRhdGFzZXQuaGl0ID0gdHJ1ZTtcbiAgICAgIHJtdkV2ZW50TGlzdGVuZXJBbmRFbmVteVR1cm4oKTtcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJib29tXCIpO1xuICAgICAgY29uc3QgYXR0YWNrUmVzdWx0ID0gZW5lbXlHYW1lYm9hcmQucmVjZWl2ZUF0dGFjayh4LCB5KTtcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJhdHRhY2tSZXN1bHRcIiwgYXR0YWNrUmVzdWx0KTtcbiAgICAgIGlmIChhdHRhY2tSZXN1bHQpIHtcbiAgICAgICAgY29uc3Qgc2hpcE9CSiA9IGVuZW15R2FtZWJvYXJkLmN1cnJlbnRTaGlwc09CSltzaGlwSW5kZXhdO1xuICAgICAgICBib3hEb20uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmV5XCI7XG5cbiAgICAgICAgaWYgKHNoaXBPQkouaXNTdW5rKCkpIHtcbiAgICAgICAgICBVSWNvbnRyb2xsZXIuY2hhbmdlQWxsQm94ZXNPZlNoaXAoXG4gICAgICAgICAgICBzaGlwSW5kZXgsXG4gICAgICAgICAgICBcImVuZW15QXJlYVwiLFxuICAgICAgICAgICAgZW5lbXlHYW1lYm9hcmRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmVteUdhbWVib2FyZC5hbGxTaGlwc1N1bmsoKSkge1xuICAgICAgICAgIGFsZXJ0KFwiZ2FtZSBPdmVyXCIpO1xuICAgICAgICAgIGdhbWVPSyA9IGZhbHNlO1xuICAgICAgICAgIC8vICAgcmVtb3ZpbmdFdmVudExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib3hEb20uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMjAxLCAyMDEsIDE3OClcIjtcbiAgICAgICAgLy8gcmVtb3ZpbmdFdmVudExpc3RlbmVycygpO1xuICAgICAgfVxuICAgICAgZW5lbXlUdXJuKCk7XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coc2hpcEluZGV4KTtcbiAgfTtcblxuICBjb25zdCBwbGF5ZXJzVHVybiA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuZW5lbXlBcmVhIC5yb3cgLmJveGApLmZvckVhY2goKGFCb3gpID0+IHtcbiAgICAgIGFCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBsYXllckNsaWNrLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgcm12RXZlbnRMaXN0ZW5lckFuZEVuZW15VHVybiA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuZW5lbXlBcmVhIC5yb3cgLmJveGApLmZvckVhY2goKGFCb3gpID0+IHtcbiAgICAgIGFCb3gucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBsYXllckNsaWNrKTtcbiAgICB9KTtcblxuICAgIFVJY29udHJvbGxlci50b2dnbGVIb3ZlcmluZygpO1xuICB9O1xuXG4gIGNvbnN0IGVuZW15Qm90ID0gZW5lbXlQbGF5ZXIocGxheWVyR2FtZWJvYXJkKTtcbiAgY29uc3QgZW5lbXlUdXJuID0gKCkgPT4ge1xuICAgIGlmICghZ2FtZU9LKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vICAgZW5lbXkncyB0dXJuXG4gICAgLy8gICBjb25zb2xlLmxvZyhlbmVteUJvdCk7XG4gICAgY29uc3QgW2lzSGl0LCB4LCB5XSA9IGVuZW15Qm90LmF0dGFjaygpO1xuXG4gICAgY29uc3QgYm94RE9NID0gVUljb250cm9sbGVyLmdldEJveERPTShcInBsYXllckFyZWFcIiwgeCwgeSk7XG5cbiAgICBpZiAoaXNIaXQpIHtcbiAgICAgIGNvbnN0IGVuZW15U2hpcEluZGV4ID0gVUljb250cm9sbGVyLmdldEJveERPTXNTaGlwSW5kZXgoXG4gICAgICAgIHBsYXllckdhbWVib2FyZCxcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNoaXBPQkogPSBwbGF5ZXJHYW1lYm9hcmQuY3VycmVudFNoaXBzT0JKW2VuZW15U2hpcEluZGV4XTtcblxuICAgICAgYm94RE9NLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicGlua1wiO1xuICAgICAgcGxheWVyc1R1cm4oKTtcbiAgICAgIGlmIChzaGlwT0JKLmlzU3VuaygpKSB7XG4gICAgICAgIFVJY29udHJvbGxlci5jaGFuZ2VBbGxCb3hlc09mU2hpcChcbiAgICAgICAgICBlbmVteVNoaXBJbmRleCxcbiAgICAgICAgICBcInBsYXllckFyZWFcIixcbiAgICAgICAgICBwbGF5ZXJHYW1lYm9hcmRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gICBjb25zb2xlLmxvZyhib3hET00pO1xuICAgICAgYm94RE9NLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDIwMSwgMjAxLCAxNzgpXCI7XG4gICAgICBwbGF5ZXJzVHVybigpO1xuICAgIH1cbiAgfTtcblxuICBwbGF5ZXJzVHVybigpO1xufTtcblxuLy8gZ2FtZUxvb3AoKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVuZW15UGxheWVyKGh1bWFuQm9hcmQpIHtcbiAgLy8gbWluIGlzIGluY2x1c2l2ZSBtYXggaXMgZXhjbHVzaXZlXG5cbiAgY29uc3QgbW92ZXNEb25lID0gW107XG4gIC8vIGNvbnNvbGUubG9nKG1vdmVzRG9uZSk7XG4gIGNvbnN0IGdldFJhbmRvbUNvb3JkID0gKCkgPT4ge1xuICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICBjb25zdCBmb3VuZEVsZW1lbnQgPSBtb3Zlc0RvbmUuZmluZChcbiAgICAgIChlbGVtZW50KSA9PiBlbGVtZW50WzBdID09PSB4ICYmIGVsZW1lbnRbMV0gPT09IHlcbiAgICApO1xuXG4gICAgaWYgKGZvdW5kRWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZ2V0UmFuZG9tQ29vcmQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFt4LCB5XTtcbiAgfTtcblxuICBjb25zdCBhdHRhY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgW3gsIHldID0gZ2V0UmFuZG9tQ29vcmQoKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcInJhbmRvbSBjb29yZFwiLCB4LCB5KTtcblxuICAgIGNvbnN0IGlzSGl0ID0gaHVtYW5Cb2FyZC5yZWNlaXZlQXR0YWNrKHgsIHkpO1xuICAgIG1vdmVzRG9uZS5wdXNoKFt4LCB5XSk7XG4gICAgcmV0dXJuIFtpc0hpdCwgeCwgeV07XG4gIH07XG5cbiAgcmV0dXJuIHsgYXR0YWNrIH07XG59XG4iXSwibmFtZXMiOlsiU2hpcCIsImxlbmd0aCIsIl9oaXRzIiwiX2xlbmd0aCIsImlzU3VuayIsImhpdCIsInBsYWNlZCIsImNvb3JkaW5hdGVzIiwiR2FtZWJvYXJkIiwiZ2FtZUFyZW5hIiwiY3VycmVudFNoaXBzT0JKIiwiX3BsYWNlZFNoaXBzIiwic2hpcE51bWJlclJ1bGVzUGFzc2VkIiwibGVuZ3RoT2NjY3VyZWQiLCJ0YXJnZXRMZW5ndGgiLCJpIiwiX29jY3VyYW5jZXMiLCJnZXRSYW5kb21Db29yZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldFRydWVPckZhbHNlIiwicGxhY2VTaGlwUmFuZG9tbHkiLCJ4IiwieSIsImhvcml6b250YWxseSIsInBsYWNlU2hpcCIsImUiLCJFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsImNoZWNrZWRDb29yZCIsIm5haXZlQ29vciIsInJlc3VsdCIsIm5ld1giLCJwdXNoIiwibmV3WSIsImFsbG93ZWQiLCJmb3JFYWNoIiwiY29vcmRpbmF0ZSIsImFuWCIsImFuWSIsImNoZWNrRm9yT3ZlcmxhcCIsImNoZWNrQ29vcmQiLCJzaGlwT0JKSW5kZXgiLCJpbmRleCIsIm5ld1NoaXBJbmRleCIsImFDb29yZGluYXRlIiwibmV3eCIsIm5ld3kiLCJtaXNzZWRTaG90cyIsInJlY2VpdmVBdHRhY2siLCJhbGxTaGlwc1N1bmsiLCJjb3VudGVyIiwicG9zaXRpb25BbGxTaGlwc1JhbmRvbWx5VGVtcGxhdGUiLCJwb3NpdGlvbkdhbWVBcmVuYSIsImxlbmd0aHMiLCJsZW5ndGhzSW5kZXgiLCJ0cnlSYW5kb21QbGFjZW1lbnQiLCJmYWtlQXJlbmEiLCJwb3NpdGlvblNoaXBSYW5kb21seSIsImdldEJveERPTSIsImFyZWEiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW5kZXJFeGlzdGluZ0JvYXRzIiwicGxheWVyQXJlYURPTSIsInVwZGF0ZUVhY2hET01Db29yZGluYXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhU2hpcCIsImdldFhhbmRZIiwidGFyZ2V0IiwiZGF0YXNldCIsInBhcmVudEVsZW1lbnQiLCJjaGFuZ2VBbGxCb3hlc09mU2hpcCIsInNoaXBJbmRleCIsImFyZWFDbGFzcyIsImFDb29yZCIsInNoaXBYIiwic2hpcFkiLCJnZXRCb3hET01zU2hpcEluZGV4IiwiY2hhbmdlQm94Q29sb3VyIiwiY29sb3VyIiwidG9nZ2xlSG92ZXJpbmciLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW5kZXJUZW1wbGF0ZUJvYXRzIiwiZ2FtZUFyZW5hQ29vcmRpbmF0ZXMiLCJhUm93IiwieUluZGV4IiwiYVJvd0Nvb3JkIiwieEluZGV4IiwicmVzZXRUZW1wbGF0ZUNvbG91cnMiLCJyYW5kb21pc2VCVE4iLCJzdWJtaXRQbGFjZW1lbnRzIiwidGVtcGxhdGVEaWFsb2ciLCJ0ZW1wbGF0ZUFyZW5hIiwidGVtcGxhdGVQb3NpdGlvbnMiLCJhZGRFdmVudExpc3RlbmVyIiwiVUljb250cm9sbGVyIiwidGVzdEdhbWVib2FyZCIsImxvZyIsInRhYmxlIiwiY2xvc2UiLCJnYW1lTG9vcCIsInBsYXllckdhbWVib2FyZCIsImVuZW15R2FtZWJvYXJkIiwiZ2FtZWJvYXJkMSIsImdhbWVib2FyZDIiLCJzZXRVcFBsYWNlbWVudHMiLCJnYW1lT0siLCJoYW5kbGVQbGF5ZXJDbGljayIsImJveERvbSIsInJtdkV2ZW50TGlzdGVuZXJBbmRFbmVteVR1cm4iLCJzaGlwT0JKIiwiYWxlcnQiLCJlbmVteVR1cm4iLCJwbGF5ZXJzVHVybiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhQm94Iiwib25jZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbmVteUJvdCIsImh1bWFuQm9hcmQiLCJtb3Zlc0RvbmUiLCJ1bmRlZmluZWQiLCJmaW5kIiwiZWxlbWVudCIsImF0dGFjayIsImlzSGl0IiwiZW5lbXlQbGF5ZXIiLCJib3hET00iLCJlbmVteVNoaXBJbmRleCJdLCJzb3VyY2VSb290IjoiIn0=