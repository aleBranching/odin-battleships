(()=>{"use strict";function e(e){let t=0;const r=e;return{isSunk:()=>t>=r,hit:()=>{t+=1},_length:r,placed:!1,coordinates:void 0}}function t(){const t=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],r=[null,e(4),e(3),e(3),e(2),e(2),e(2),e(1),e(1),e(1),e(1)],o=[],n=e=>{let t=0;return(r=>{for(let r=0;r<o.length;r++)o[r]===e&&t++})(),t<{1:4,2:3,3:2,4:1}[e]},a=[];return{placeShip:(e,a,c,l)=>{if(a<0||c<0||a>10||c>10)throw new Error((e=>{console.error("can't place ship here or no more of these ships or ship too big")}));if(!n)throw new Error((e=>{console.error("can't put anymore of these ships")}));let s;if((()=>{const r=(()=>{const t=[];if(l){if(l){let r=a;for(let o=0;o<e;o++)if(t.push([r,c]),r++,r>10)throw new Error("Boat out of game!")}}else{let r=c;for(let o=0;o<e;o++)if(t.push([a,r]),r++,r>10)throw new Error("boat out of game!")}return t})();return!!(()=>{let e=!0;return r.forEach((r=>{const o=r[0],n=r[1];0!==t[n][o]&&(e=!1)})),e})()&&(s=[...r],!0)})()&&n(e)){const n=(e=>{let t;for(let o=0;o<=10;o++)if(null!=r[o]&&r[o]._length===e&&!1===r[o].placed){t=o;break}return t})(e);r[n].placed=!0,o.push(e),r[n].coordinates=s,s.forEach((e=>{const r=e[0],o=e[1];t[o][r]=n}))}},gameArena:t,receiveAttack:(e,o)=>{if(0!==t[o][e]){const n=t[o][e];return r[n].hit(),!0}return a.push([e,o]),!1},allShipsSunk:()=>{let e=0;for(let t=1;t<11;t++)r[t].isSunk()&&e++;return e>=10},missedShots:a,currentShipsOBJ:r}}const r=function(){const e=(e,t,r)=>document.querySelector(`.${e} .row[data-x="${t}"] .box[data-y="${r}"]`);let t=!0;return{renderExistingBoats:(t,r)=>{const o=([t,o])=>{e(r,t,o).style.backgroundColor="grey"};t.currentShipsOBJ.forEach((e=>{null==e||e.coordinates.forEach(o)}))},getBoxDOM:e,enemyBoxDOMListener:r=>{document.querySelectorAll(".enemyArea .row .box").forEach((o=>{o.addEventListener("click",(o=>{t&&(o=>{if(!0!==o.target.dataset.hit){t=!1;const[n,a]=(e=>{const{y:t}=e.target.dataset,{x:r}=e.target.parentElement.dataset;return[r,t]})(o);o.target.dataset.hit="true";const c=r.receiveAttack(n,a),l=e("enemyArea",n,a);if(c){l.style.backgroundColor="gray";const t=r.gameArena[a][n];if(r.currentShipsOBJ[t].isSunk()){const{coordinates:o}=r.currentShipsOBJ[t];o.forEach((t=>{const[r,o]=t;e("enemyArea",r,o).style.backgroundColor="red"}))}r.allShipsSunk()}else l.style.backgroundColor="rgb(190, 146, 154)"}})(o)}),{once:!0})}))},turnAllowed:t}}();console.log("test"),console.log("change"),(()=>{const e=t(),o=t();var n,a;a=o,(n=e).placeShip(4,0,0,!0),n.placeShip(3,6,0,!0),n.placeShip(3,0,1,!0),n.placeShip(2,0,3,!0),n.placeShip(2,0,5,!0),n.placeShip(2,9,6,!1),n.placeShip(1,2,7,!0),n.placeShip(1,3,8,!0),n.placeShip(1,4,9,!0),n.placeShip(1,7,9,!0),a.placeShip(4,0,0,!0),a.placeShip(3,6,0,!0),a.placeShip(3,0,1,!0),a.placeShip(2,0,3,!0),a.placeShip(2,0,5,!0),a.placeShip(2,9,6,!1),a.placeShip(1,2,7,!0),a.placeShip(1,3,8,!0),a.placeShip(1,4,9,!0),a.placeShip(1,7,9,!0),r.renderExistingBoats(e,"playerArea"),r.enemyBoxDOMListener(o),console.log("happens")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsRUFBRyxHQUFHLEdBQzlCNkQsRUFBVzdELFVBQVUsRUFBRyxFQUFHLEdBQUcsR0FDOUI2RCxFQUFXN0QsVUFBVSxFQUFHLEVBQUcsR0FBRyxHQVFoQzhELEVBQWEzQixvQkFBb0J1QixFQUFpQixjQUNsREksRUFBYXJCLG9CQUFvQmtCLEdBQ2pDckQsUUFBUW1ELElBQUksVUFBVSxFQVF4Qk0sRSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tYmF0dGxlc2hpcHMvLi9zcmMvbG9naWMvc2hpcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXBzLy4vc3JjL2xvZ2ljL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXBzLy4vc3JjL2xvZ2ljL1VJY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXBzLy4vc3JjL2xvZ2ljL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNoaXAobGVuZ3RoKSB7XG4gIGxldCBfaGl0cyA9IDA7XG4gIGNvbnN0IF9sZW5ndGggPSBsZW5ndGg7XG4gIGNvbnN0IHBsYWNlZCA9IGZhbHNlO1xuICBsZXQgY29vcmRpbmF0ZXM7XG5cbiAgY29uc3QgaGl0ID0gKCkgPT4ge1xuICAgIF9oaXRzICs9IDE7XG4gIH07XG5cbiAgY29uc3QgaXNTdW5rID0gKCkgPT4gX2hpdHMgPj0gX2xlbmd0aDtcblxuICAvLyAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXG4gIC8vICAgdGhpcy5fc3VuayA9IGZhbHNlO1xuICAvLyAgIHRoaXMuX2hpdHMgPSAwO1xuXG4gIC8vICAgZnVuY3Rpb24gaGl0KCkge1xuICAvLyAgICAgdGhpcy5faGl0cyA9ICsxO1xuICAvLyAgICAgLy9cbiAgLy8gICB9XG5cbiAgLy8gICBmdW5jdGlvbiBpc1N1bmsoKSB7XG4gIC8vICAgICByZXR1cm4gdGhpcy5faGl0cyA+PSBsZW5ndGggPyB0cnVlIDogZmFsc2U7XG4gIC8vICAgICAvL1xuICAvLyAgIH1cblxuICByZXR1cm4geyBpc1N1bmssIGhpdCwgX2xlbmd0aCwgcGxhY2VkLCBjb29yZGluYXRlcyB9O1xufVxuIiwiaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYW1lYm9hcmQoKSB7XG4gIC8vIGVhY2ggbnVtYmVyIGNvcnJlc3BvbmRzIHRvIGluZGV4IG9mIGN1cnJlbnRTaGlwc09CSlxuICBjb25zdCBnYW1lQXJlbmEgPSBbXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICBdO1xuXG4gIGNvbnN0IGN1cnJlbnRTaGlwc09CSiA9IFtcbiAgICBudWxsLFxuICAgIFNoaXAoNCksXG4gICAgU2hpcCgzKSxcbiAgICBTaGlwKDMpLFxuICAgIFNoaXAoMiksXG4gICAgU2hpcCgyKSxcbiAgICBTaGlwKDIpLFxuICAgIFNoaXAoMSksXG4gICAgU2hpcCgxKSxcbiAgICBTaGlwKDEpLFxuICAgIFNoaXAoMSksXG4gIF07XG5cbiAgY29uc3QgbmV3U2hpcEluZGV4ID0gKGxlbmd0aCkgPT4ge1xuICAgIGxldCBpbmRleDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSsrKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlRISVNcIiwgY3VycmVudFNoaXBzT0JKW2ldLl9sZW5ndGgpO1xuICAgICAgaWYgKGN1cnJlbnRTaGlwc09CSltpXSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBjdXJyZW50U2hpcHNPQkpbaV0uX2xlbmd0aCA9PT0gbGVuZ3RoICYmXG4gICAgICAgIGN1cnJlbnRTaGlwc09CSltpXS5wbGFjZWQgPT09IGZhbHNlXG4gICAgICApIHtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9O1xuXG4gIGNvbnN0IF9wbGFjZWRTaGlwcyA9IFtdO1xuXG4gIGNvbnN0IHNoaXBOdW1iZXJSdWxlc1Bhc3NlZCA9IChsZW5ndGgpID0+IHtcbiAgICBjb25zdCBfYWxsb3dlZE9jY3VyYW5jZXMgPSB7XG4gICAgICAxOiA0LFxuICAgICAgMjogMyxcbiAgICAgIDM6IDIsXG4gICAgICA0OiAxLFxuICAgIH07XG4gICAgbGV0IGxlbmd0aE9jY2N1cmVkID0gMDtcbiAgICBjb25zdCBfb2NjdXJhbmNlcyA9ICh0YXJnZXRMZW5ndGgpID0+IHtcbiAgICAgIC8vIGxldCBjb3VudGVyID0gMDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfcGxhY2VkU2hpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKF9wbGFjZWRTaGlwc1tpXSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgbGVuZ3RoT2NjY3VyZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgX29jY3VyYW5jZXMoKTtcblxuICAgIGlmIChsZW5ndGhPY2NjdXJlZCA8IF9hbGxvd2VkT2NjdXJhbmNlc1tsZW5ndGhdKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgcGxhY2VTaGlwID0gKGxlbmd0aCwgeCwgeSwgaG9yaXpvbnRhbGx5KSA9PiB7XG4gICAgLy8gdGVzdCB2YWxpZGl0eSBvZiBjby1vcmQgb3IgYW1vdW50IG9mIHNoaXBzXG4gICAgaWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPiAxMCB8fCB5ID4gMTApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigoZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiY2FuJ3QgcGxhY2Ugc2hpcCBoZXJlIG9yIG5vIG1vcmUgb2YgdGhlc2Ugc2hpcHMgb3Igc2hpcCB0b28gYmlnXCJcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghc2hpcE51bWJlclJ1bGVzUGFzc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcImNhbid0IHB1dCBhbnltb3JlIG9mIHRoZXNlIHNoaXBzXCIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IGNoZWNrZWRDb29yZDtcblxuICAgIGNvbnN0IGNoZWNrQ29vcmQgPSAoKSA9PiB7XG4gICAgICAvLyB3aGF0IHdvdWxkIHRoZXkgYmUgbmFpdmVseVxuXG4gICAgICBjb25zdCBuYWl2ZUNvb3IgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBpZiAoIWhvcml6b250YWxseSkge1xuICAgICAgICAgIGxldCBuZXdZID0geTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbeCwgbmV3WV0pO1xuICAgICAgICAgICAgbmV3WSsrO1xuICAgICAgICAgICAgaWYgKG5ld1kgPiAxMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJib2F0IG91dCBvZiBnYW1lIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaG9yaXpvbnRhbGx5KSB7XG4gICAgICAgICAgbGV0IG5ld1ggPSB4O1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtuZXdYLCB5XSk7XG4gICAgICAgICAgICBuZXdYKys7XG4gICAgICAgICAgICBpZiAobmV3WCA+IDEwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJvYXQgb3V0IG9mIGdhbWUhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KSgpO1xuXG4gICAgICBjb25zdCBjaGVja0Zvck92ZXJsYXAgPSAoKSA9PiB7XG4gICAgICAgIGxldCBhbGxvd2VkID0gdHJ1ZTtcblxuICAgICAgICBuYWl2ZUNvb3IuZm9yRWFjaCgoY29vcmRpbmF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGFuWCA9IGNvb3JkaW5hdGVbMF07XG4gICAgICAgICAgY29uc3QgYW5ZID0gY29vcmRpbmF0ZVsxXTtcblxuICAgICAgICAgIC8vIGluIGdhbWVhcmVuYSBmaXJzdCBoYXZlIHRvIGFjY2VzcyBZXG5cbiAgICAgICAgICBpZiAoZ2FtZUFyZW5hW2FuWV1bYW5YXSAhPT0gMCkge1xuICAgICAgICAgICAgYWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAoY2hlY2tGb3JPdmVybGFwKCkpIHtcbiAgICAgICAgY2hlY2tlZENvb3JkID0gWy4uLm5haXZlQ29vcl07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIGNvbnNvbGUubG9nKFwiVEhJU1wiLCBzaGlwTnVtYmVyUnVsZXNQYXNzZWQobGVuZ3RoKSk7XG4gICAgaWYgKGNoZWNrQ29vcmQoKSAmJiBzaGlwTnVtYmVyUnVsZXNQYXNzZWQobGVuZ3RoKSkge1xuICAgICAgY29uc3Qgc2hpcE9CSkluZGV4ID0gbmV3U2hpcEluZGV4KGxlbmd0aCk7XG4gICAgICBjdXJyZW50U2hpcHNPQkpbc2hpcE9CSkluZGV4XS5wbGFjZWQgPSB0cnVlO1xuICAgICAgX3BsYWNlZFNoaXBzLnB1c2gobGVuZ3RoKTtcblxuICAgICAgY3VycmVudFNoaXBzT0JKW3NoaXBPQkpJbmRleF0uY29vcmRpbmF0ZXMgPSBjaGVja2VkQ29vcmQ7XG4gICAgICBjaGVja2VkQ29vcmQuZm9yRWFjaCgoYUNvb3JkaW5hdGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3eCA9IGFDb29yZGluYXRlWzBdO1xuICAgICAgICBjb25zdCBuZXd5ID0gYUNvb3JkaW5hdGVbMV07XG5cbiAgICAgICAgZ2FtZUFyZW5hW25ld3ldW25ld3hdID0gc2hpcE9CSkluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtaXNzZWRTaG90cyA9IFtdO1xuXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoeCwgeSkgPT4ge1xuICAgIGlmIChnYW1lQXJlbmFbeV1beF0gIT09IDApIHtcbiAgICAgIGNvbnN0IHNoaXBPQkpJbmRleCA9IGdhbWVBcmVuYVt5XVt4XTtcbiAgICAgIGN1cnJlbnRTaGlwc09CSltzaGlwT0JKSW5kZXhdLmhpdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG1pc3NlZFNob3RzLnB1c2goW3gsIHldKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgYWxsU2hpcHNTdW5rID0gKCkgPT4ge1xuICAgIGxldCBjb3VudGVyID0gMDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDExOyBpKyspIHtcbiAgICAgIGlmIChjdXJyZW50U2hpcHNPQkpbaV0uaXNTdW5rKCkpIHtcbiAgICAgICAgY291bnRlcisrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY291bnRlciA+PSAxMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHBsYWNlU2hpcCxcbiAgICBnYW1lQXJlbmEsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICBhbGxTaGlwc1N1bmssXG4gICAgbWlzc2VkU2hvdHMsXG4gICAgY3VycmVudFNoaXBzT0JKLFxuICB9O1xufVxuIiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIFVJY29udHJvbGxlcigpIHtcbiAgY29uc3QgZ2V0Qm94RE9NID0gKGFyZWEsIHgsIHkpID0+XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YXJlYX0gLnJvd1tkYXRhLXg9XCIke3h9XCJdIC5ib3hbZGF0YS15PVwiJHt5fVwiXWApO1xuXG4gIGNvbnN0IHJlbmRlckV4aXN0aW5nQm9hdHMgPSAoZ2FtZUFyZW5hLCBwbGF5ZXJBcmVhRE9NKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlRWFjaERPTUNvb3JkaW5hdGUgPSAoW3gsIHldKSA9PiB7XG4gICAgICBnZXRCb3hET00ocGxheWVyQXJlYURPTSwgeCwgeSkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmV5XCI7XG4gICAgfTtcblxuICAgIGdhbWVBcmVuYS5jdXJyZW50U2hpcHNPQkouZm9yRWFjaCgoYVNoaXApID0+IHtcbiAgICAgIGlmIChhU2hpcCA9PSBudWxsKSB7XG4gICAgICAgIC8vIG51bGxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFTaGlwLmNvb3JkaW5hdGVzLmZvckVhY2godXBkYXRlRWFjaERPTUNvb3JkaW5hdGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGxldCB0dXJuQWxsb3dlZCA9IHRydWU7XG4gIGNvbnN0IGVuZW15Qm94RE9NTGlzdGVuZXIgPSAoZ2FtZUFyZW5hKSA9PiB7XG4gICAgY29uc3QgZ2V0WGFuZFkgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgeyB5IH0gPSBlLnRhcmdldC5kYXRhc2V0O1xuICAgICAgY29uc3QgeyB4IH0gPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQ7XG5cbiAgICAgIHJldHVybiBbeCwgeV07XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlcmluZ0hpdHMgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmRhdGFzZXQuaGl0ICE9PSB0cnVlKSB7XG4gICAgICAgIHR1cm5BbGxvd2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IGdldFhhbmRZKGUpO1xuICAgICAgICBlLnRhcmdldC5kYXRhc2V0LmhpdCA9IFwidHJ1ZVwiO1xuXG4gICAgICAgIGNvbnN0IGF0dGFja1Jlc3VsdCA9IGdhbWVBcmVuYS5yZWNlaXZlQXR0YWNrKHgsIHkpO1xuXG4gICAgICAgIGNvbnN0IGhpdEJveERPTSA9IGdldEJveERPTShcImVuZW15QXJlYVwiLCB4LCB5KTtcbiAgICAgICAgaWYgKGF0dGFja1Jlc3VsdCkge1xuICAgICAgICAgIGhpdEJveERPTS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyYXlcIjtcbiAgICAgICAgICBjb25zdCBzaGlwSW5kZXggPSBnYW1lQXJlbmEuZ2FtZUFyZW5hW3ldW3hdO1xuXG4gICAgICAgICAgaWYgKGdhbWVBcmVuYS5jdXJyZW50U2hpcHNPQkpbc2hpcEluZGV4XS5pc1N1bmsoKSkge1xuICAgICAgICAgICAgY29uc3QgeyBjb29yZGluYXRlcyB9ID0gZ2FtZUFyZW5hLmN1cnJlbnRTaGlwc09CSltzaGlwSW5kZXhdO1xuXG4gICAgICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKChhQ29vcmQpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgW3NoaXBYLCBzaGlwWV0gPSBhQ29vcmQ7XG4gICAgICAgICAgICAgIGdldEJveERPTShcImVuZW15QXJlYVwiLCBzaGlwWCwgc2hpcFkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG4gICAgICAgICAgICAgICAgXCJyZWRcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZ2FtZUFyZW5hLmFsbFNoaXBzU3VuaygpKSB7XG4gICAgICAgICAgICAvLyBhbGVydChcImdhbWVPdmVyXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaXRCb3hET00uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMTkwLCAxNDYsIDE1NClcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuZW5lbXlBcmVhIC5yb3cgLmJveGApLmZvckVhY2goKGFCb3gpID0+IHtcbiAgICAgIGFCb3guYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgIC8vICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xuICAgICAgICAgIGlmICh0dXJuQWxsb3dlZCkge1xuICAgICAgICAgICAgcmVuZGVyaW5nSGl0cyhlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlcmluZ0VuZW15SGl0cyA9ICh4LCB5KSA9PiB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgIC8vICAgdHVybkFsbG93ZWQgPSBmYWxzZTtcbiAgICAgIC8vICAgY29uc3QgW3gsIHldID0gZ2V0WGFuZFkoZSk7XG4gICAgICAvLyAgIGUudGFyZ2V0LmRhdGFzZXQuaGl0ID0gXCJ0cnVlXCI7XG5cbiAgICAgIGNvbnN0IGF0dGFja1Jlc3VsdCA9IGdhbWVBcmVuYS5yZWNlaXZlQXR0YWNrKHgsIHkpO1xuXG4gICAgICBjb25zdCBoaXRCb3hET00gPSBnZXRCb3hET00oXCJlbmVteUFyZWFcIiwgeCwgeSk7XG4gICAgICBpZiAoYXR0YWNrUmVzdWx0KSB7XG4gICAgICAgIGhpdEJveERPTS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyYXlcIjtcbiAgICAgICAgY29uc3Qgc2hpcEluZGV4ID0gZ2FtZUFyZW5hLmdhbWVBcmVuYVt5XVt4XTtcblxuICAgICAgICBpZiAoZ2FtZUFyZW5hLmN1cnJlbnRTaGlwc09CSltzaGlwSW5kZXhdLmlzU3VuaygpKSB7XG4gICAgICAgICAgY29uc3QgeyBjb29yZGluYXRlcyB9ID0gZ2FtZUFyZW5hLmN1cnJlbnRTaGlwc09CSltzaGlwSW5kZXhdO1xuXG4gICAgICAgICAgY29vcmRpbmF0ZXMuZm9yRWFjaCgoYUNvb3JkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbc2hpcFgsIHNoaXBZXSA9IGFDb29yZDtcbiAgICAgICAgICAgIGdldEJveERPTShcImVuZW15QXJlYVwiLCBzaGlwWCwgc2hpcFkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdhbWVBcmVuYS5hbGxTaGlwc1N1bmsoKSkge1xuICAgICAgICAgIC8vIGFsZXJ0KFwiZ2FtZU92ZXJcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpdEJveERPTS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYigxOTAsIDE0NiwgMTU0KVwiO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyByZW5kZXJFeGlzdGluZ0JvYXRzLCBnZXRCb3hET00sIGVuZW15Qm94RE9NTGlzdGVuZXIsIHR1cm5BbGxvd2VkIH07XG59KSgpO1xuIiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCBVSWNvbnRyb2xsZXIgZnJvbSBcIi4vVUljb250cm9sbGVyXCI7XG5pbXBvcnQgZW5lbXlQbGF5ZXIgZnJvbSBcIi4vY29tcHV0ZXJQbGF5ZXJcIjtcbi8vIGltcG9ydCBlbmVteVBsYXllciBmcm9tIFwiLi9jb21wdXRlclBsYXllclwiO1xuXG5jb25zb2xlLmxvZyhcInRlc3RcIik7XG5jb25zb2xlLmxvZyhcImNoYW5nZVwiKTtcblxuLy8gY29uc3QgdGVzdCA9IGdldEJveERPTShcImVuZW15QXJlYVwiLCAwLCAwKTtcblxuY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XG4gIGNvbnN0IGdhbWVPdmVyID0gZmFsc2U7XG5cbiAgLy8gWzQsIDQsIDQsIDQsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuXG4gIGNvbnN0IHNldFVwUGxhY2VtZW50cyA9IChnYW1lYm9hcmQxLCBnYW1lYm9hcmQyKSA9PiB7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoNCwgMCwgMCwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMywgNiwgMCwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMywgMCwgMSwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMiwgMCwgMywgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMiwgMCwgNSwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMiwgOSwgNiwgZmFsc2UpO1xuICAgIGdhbWVib2FyZDEucGxhY2VTaGlwKDEsIDIsIDcsIHRydWUpO1xuICAgIGdhbWVib2FyZDEucGxhY2VTaGlwKDEsIDMsIDgsIHRydWUpO1xuICAgIGdhbWVib2FyZDEucGxhY2VTaGlwKDEsIDQsIDksIHRydWUpO1xuICAgIGdhbWVib2FyZDEucGxhY2VTaGlwKDEsIDcsIDksIHRydWUpO1xuXG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoNCwgMCwgMCwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMywgNiwgMCwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMywgMCwgMSwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMiwgMCwgMywgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMiwgMCwgNSwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMiwgOSwgNiwgZmFsc2UpO1xuICAgIGdhbWVib2FyZDIucGxhY2VTaGlwKDEsIDIsIDcsIHRydWUpO1xuICAgIGdhbWVib2FyZDIucGxhY2VTaGlwKDEsIDMsIDgsIHRydWUpO1xuICAgIGdhbWVib2FyZDIucGxhY2VTaGlwKDEsIDQsIDksIHRydWUpO1xuICAgIGdhbWVib2FyZDIucGxhY2VTaGlwKDEsIDcsIDksIHRydWUpO1xuICB9O1xuXG4gIC8vICAgd2hpbGUgKCFnYW1lT3Zlcikge1xuICBjb25zdCBwbGF5ZXJHYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcbiAgY29uc3QgZW5lbXlHYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcbiAgc2V0VXBQbGFjZW1lbnRzKHBsYXllckdhbWVib2FyZCwgZW5lbXlHYW1lYm9hcmQpO1xuXG4gIFVJY29udHJvbGxlci5yZW5kZXJFeGlzdGluZ0JvYXRzKHBsYXllckdhbWVib2FyZCwgXCJwbGF5ZXJBcmVhXCIpO1xuICBVSWNvbnRyb2xsZXIuZW5lbXlCb3hET01MaXN0ZW5lcihlbmVteUdhbWVib2FyZCk7XG4gIGNvbnNvbGUubG9nKFwiaGFwcGVuc1wiKTtcblxuICAvLyAgIGNvbnN0IGVuZW15Qm90ID0gZW5lbXlQbGF5ZXIocGxheWVyR2FtZWJvYXJkKTtcbiAgLy8gICBjb25zdCBbaXNIaXQsIGVuZW15WCwgZW5lbXlZXSA9IGVuZW15UGxheWVyLmF0dGFjaygpO1xuXG4gIC8vICAgfVxufTtcblxuZ2FtZUxvb3AoKTtcbiJdLCJuYW1lcyI6WyJTaGlwIiwibGVuZ3RoIiwiX2hpdHMiLCJfbGVuZ3RoIiwiaXNTdW5rIiwiaGl0IiwicGxhY2VkIiwiY29vcmRpbmF0ZXMiLCJHYW1lYm9hcmQiLCJnYW1lQXJlbmEiLCJjdXJyZW50U2hpcHNPQkoiLCJfcGxhY2VkU2hpcHMiLCJzaGlwTnVtYmVyUnVsZXNQYXNzZWQiLCJsZW5ndGhPY2NjdXJlZCIsInRhcmdldExlbmd0aCIsImkiLCJfb2NjdXJhbmNlcyIsIm1pc3NlZFNob3RzIiwicGxhY2VTaGlwIiwieCIsInkiLCJob3Jpem9udGFsbHkiLCJFcnJvciIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJjaGVja2VkQ29vcmQiLCJuYWl2ZUNvb3IiLCJyZXN1bHQiLCJuZXdYIiwicHVzaCIsIm5ld1kiLCJhbGxvd2VkIiwiZm9yRWFjaCIsImNvb3JkaW5hdGUiLCJhblgiLCJhblkiLCJjaGVja0Zvck92ZXJsYXAiLCJjaGVja0Nvb3JkIiwic2hpcE9CSkluZGV4IiwiaW5kZXgiLCJuZXdTaGlwSW5kZXgiLCJhQ29vcmRpbmF0ZSIsIm5ld3giLCJuZXd5IiwicmVjZWl2ZUF0dGFjayIsImFsbFNoaXBzU3VuayIsImNvdW50ZXIiLCJnZXRCb3hET00iLCJhcmVhIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidHVybkFsbG93ZWQiLCJyZW5kZXJFeGlzdGluZ0JvYXRzIiwicGxheWVyQXJlYURPTSIsInVwZGF0ZUVhY2hET01Db29yZGluYXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhU2hpcCIsImVuZW15Qm94RE9NTGlzdGVuZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYUJveCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJkYXRhc2V0IiwicGFyZW50RWxlbWVudCIsImdldFhhbmRZIiwiYXR0YWNrUmVzdWx0IiwiaGl0Qm94RE9NIiwic2hpcEluZGV4IiwiYUNvb3JkIiwic2hpcFgiLCJzaGlwWSIsInJlbmRlcmluZ0hpdHMiLCJvbmNlIiwibG9nIiwicGxheWVyR2FtZWJvYXJkIiwiZW5lbXlHYW1lYm9hcmQiLCJnYW1lYm9hcmQxIiwiZ2FtZWJvYXJkMiIsIlVJY29udHJvbGxlciIsImdhbWVMb29wIl0sInNvdXJjZVJvb3QiOiIifQ==