(()=>{"use strict";function e(e){let t=0;const o=e;return{isSunk:()=>t>=o,hit:()=>{t+=1},_length:o,placed:!1}}function t(){const t=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],o=[null,e(4),e(3),e(3),e(2),e(2),e(2),e(1),e(1),e(1),e(1)],r=[],n=e=>{let t=0;return(o=>{for(let o=0;o<r.length;o++)r[o]===e&&t++})(),t<{1:4,2:3,3:2,4:1}[e]},l=[];return{placeShip:(e,l,c,s)=>{if(l<0||c<0||l>10||c>10)throw new Error((e=>{console.error("can't place ship here or no more of these ships or ship too big")}));if(!n)throw new Error((e=>{console.error("can't put anymore of these ships")}));let a;if((()=>{const o=(()=>{const t=[];if(s){if(s){let o=l;for(let r=0;r<e;r++)if(t.push([o,c]),o++,o>10)throw new Error("Boat out of game!")}}else{let o=c;for(let r=0;r<e;r++)if(t.push([l,o]),o++,o>10)throw new Error("boat out of game!")}return t})();return!!(()=>{let e=!0;return o.forEach((o=>{const r=o[0],n=o[1];0!==t[n][r]&&(e=!1)})),e})()&&(a=[...o],!0)})()&&n(e)){const n=(e=>{let t;for(let r=0;r<=10;r++)if(null!=o[r]&&o[r]._length===e&&!1===o[r].placed){t=r;break}return t})(e);o[n].placed=!0,r.push(e),a.forEach((e=>{const o=e[0],r=e[1];t[r][o]=n}))}},gameArena:t,receiveAttack:(e,r)=>{if(0!==t[r][e]){const n=t[r][e];o[n].hit()}else l.push([e,r])},allShipsSunk:()=>{let e=0;for(let t=1;t<11;t++)o[t].isSunk()&&e++;return e>=10},missedShots:l,currentShipsOBJ:o}}console.log("test"),console.log("change");const o=("enemyArea",0,0,document.querySelector('.enemyArea .row[data-x="0"] .box[data-y="0"]'));(()=>{const e=t();t(),e.placeShip(4,0,0,!0),e.placeShip(3,6,0,!0),e.placeShip(3,0,1,!0),e.placeShip(2,0,3,!0),e.placeShip(2,0,5,!0),e.placeShip(2,9,6,!1),e.placeShip(1,2,7,!0),e.placeShip(1,3,8,!0),e.placeShip(1,4,9,!0),e.placeShip(1,7,9,!0),console.table(e.gameArena)})(),console.log(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFrQjVDLElBQ0RBLElBRXZCNEMsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQ25Da0MsRUFBZ0JsQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBRW5DTSxRQUFRNkIsTUFBTUQsRUFBZ0IzQyxVQUFVLEVBSTFDNkMsR0FDQTlCLFFBQVF3QixJQUFJQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwcy8uL3NyYy9sb2dpYy9zaGlwLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcHMvLi9zcmMvbG9naWMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcHMvLi9zcmMvbG9naWMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2hpcChsZW5ndGgpIHtcbiAgbGV0IF9oaXRzID0gMDtcbiAgY29uc3QgX2xlbmd0aCA9IGxlbmd0aDtcbiAgY29uc3QgcGxhY2VkID0gZmFsc2U7XG5cbiAgY29uc3QgaGl0ID0gKCkgPT4ge1xuICAgIF9oaXRzICs9IDE7XG4gIH07XG5cbiAgY29uc3QgaXNTdW5rID0gKCkgPT4gX2hpdHMgPj0gX2xlbmd0aDtcblxuICAvLyAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXG4gIC8vICAgdGhpcy5fc3VuayA9IGZhbHNlO1xuICAvLyAgIHRoaXMuX2hpdHMgPSAwO1xuXG4gIC8vICAgZnVuY3Rpb24gaGl0KCkge1xuICAvLyAgICAgdGhpcy5faGl0cyA9ICsxO1xuICAvLyAgICAgLy9cbiAgLy8gICB9XG5cbiAgLy8gICBmdW5jdGlvbiBpc1N1bmsoKSB7XG4gIC8vICAgICByZXR1cm4gdGhpcy5faGl0cyA+PSBsZW5ndGggPyB0cnVlIDogZmFsc2U7XG4gIC8vICAgICAvL1xuICAvLyAgIH1cblxuICByZXR1cm4geyBpc1N1bmssIGhpdCwgX2xlbmd0aCwgcGxhY2VkIH07XG59XG4iLCJpbXBvcnQgU2hpcCBmcm9tIFwiLi9zaGlwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWVib2FyZCgpIHtcbiAgLy8gZWFjaCBudW1iZXIgY29ycmVzcG9uZHMgdG8gaW5kZXggb2YgY3VycmVudFNoaXBzT0JKXG4gIGNvbnN0IGdhbWVBcmVuYSA9IFtcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIF07XG5cbiAgY29uc3QgY3VycmVudFNoaXBzT0JKID0gW1xuICAgIG51bGwsXG4gICAgU2hpcCg0KSxcbiAgICBTaGlwKDMpLFxuICAgIFNoaXAoMyksXG4gICAgU2hpcCgyKSxcbiAgICBTaGlwKDIpLFxuICAgIFNoaXAoMiksXG4gICAgU2hpcCgxKSxcbiAgICBTaGlwKDEpLFxuICAgIFNoaXAoMSksXG4gICAgU2hpcCgxKSxcbiAgXTtcblxuICBjb25zdCBuZXdTaGlwSW5kZXggPSAobGVuZ3RoKSA9PiB7XG4gICAgbGV0IGluZGV4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiVEhJU1wiLCBjdXJyZW50U2hpcHNPQkpbaV0uX2xlbmd0aCk7XG4gICAgICBpZiAoY3VycmVudFNoaXBzT0JKW2ldID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGN1cnJlbnRTaGlwc09CSltpXS5fbGVuZ3RoID09PSBsZW5ndGggJiZcbiAgICAgICAgY3VycmVudFNoaXBzT0JKW2ldLnBsYWNlZCA9PT0gZmFsc2VcbiAgICAgICkge1xuICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH07XG5cbiAgY29uc3QgX3BsYWNlZFNoaXBzID0gW107XG5cbiAgY29uc3Qgc2hpcE51bWJlclJ1bGVzUGFzc2VkID0gKGxlbmd0aCkgPT4ge1xuICAgIGNvbnN0IF9hbGxvd2VkT2NjdXJhbmNlcyA9IHtcbiAgICAgIDE6IDQsXG4gICAgICAyOiAzLFxuICAgICAgMzogMixcbiAgICAgIDQ6IDEsXG4gICAgfTtcbiAgICBsZXQgbGVuZ3RoT2NjY3VyZWQgPSAwO1xuICAgIGNvbnN0IF9vY2N1cmFuY2VzID0gKHRhcmdldExlbmd0aCkgPT4ge1xuICAgICAgLy8gbGV0IGNvdW50ZXIgPSAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9wbGFjZWRTaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoX3BsYWNlZFNoaXBzW2ldID09PSBsZW5ndGgpIHtcbiAgICAgICAgICBsZW5ndGhPY2NjdXJlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBfb2NjdXJhbmNlcygpO1xuXG4gICAgaWYgKGxlbmd0aE9jY2N1cmVkIDwgX2FsbG93ZWRPY2N1cmFuY2VzW2xlbmd0aF0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBwbGFjZVNoaXAgPSAobGVuZ3RoLCB4LCB5LCBob3Jpem9udGFsbHkpID0+IHtcbiAgICAvLyB0ZXN0IHZhbGlkaXR5IG9mIGNvLW9yZCBvciBhbW91bnQgb2Ygc2hpcHNcbiAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+IDEwIHx8IHkgPiAxMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJjYW4ndCBwbGFjZSBzaGlwIGhlcmUgb3Igbm8gbW9yZSBvZiB0aGVzZSBzaGlwcyBvciBzaGlwIHRvbyBiaWdcIlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFzaGlwTnVtYmVyUnVsZXNQYXNzZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigoZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiY2FuJ3QgcHV0IGFueW1vcmUgb2YgdGhlc2Ugc2hpcHNcIik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgY2hlY2tlZENvb3JkO1xuXG4gICAgY29uc3QgY2hlY2tDb29yZCA9ICgpID0+IHtcbiAgICAgIC8vIHdoYXQgd291bGQgdGhleSBiZSBuYWl2ZWx5XG5cbiAgICAgIGNvbnN0IG5haXZlQ29vciA9ICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGlmICghaG9yaXpvbnRhbGx5KSB7XG4gICAgICAgICAgbGV0IG5ld1kgPSB5O1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt4LCBuZXdZXSk7XG4gICAgICAgICAgICBuZXdZKys7XG4gICAgICAgICAgICBpZiAobmV3WSA+IDEwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImJvYXQgb3V0IG9mIGdhbWUhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChob3Jpem9udGFsbHkpIHtcbiAgICAgICAgICBsZXQgbmV3WCA9IHg7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goW25ld1gsIHldKTtcbiAgICAgICAgICAgIG5ld1grKztcbiAgICAgICAgICAgIGlmIChuZXdYID4gMTApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQm9hdCBvdXQgb2YgZ2FtZSFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pKCk7XG5cbiAgICAgIGNvbnN0IGNoZWNrRm9yT3ZlcmxhcCA9ICgpID0+IHtcbiAgICAgICAgbGV0IGFsbG93ZWQgPSB0cnVlO1xuXG4gICAgICAgIG5haXZlQ29vci5mb3JFYWNoKChjb29yZGluYXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgYW5YID0gY29vcmRpbmF0ZVswXTtcbiAgICAgICAgICBjb25zdCBhblkgPSBjb29yZGluYXRlWzFdO1xuXG4gICAgICAgICAgLy8gaW4gZ2FtZWFyZW5hIGZpcnN0IGhhdmUgdG8gYWNjZXNzIFlcblxuICAgICAgICAgIGlmIChnYW1lQXJlbmFbYW5ZXVthblhdICE9PSAwKSB7XG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYWxsb3dlZDtcbiAgICAgIH07XG5cbiAgICAgIGlmIChjaGVja0Zvck92ZXJsYXAoKSkge1xuICAgICAgICBjaGVja2VkQ29vcmQgPSBbLi4ubmFpdmVDb29yXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gY29uc29sZS5sb2coXCJUSElTXCIsIHNoaXBOdW1iZXJSdWxlc1Bhc3NlZChsZW5ndGgpKTtcbiAgICBpZiAoY2hlY2tDb29yZCgpICYmIHNoaXBOdW1iZXJSdWxlc1Bhc3NlZChsZW5ndGgpKSB7XG4gICAgICBjb25zdCBzaGlwT0JKSW5kZXggPSBuZXdTaGlwSW5kZXgobGVuZ3RoKTtcbiAgICAgIGN1cnJlbnRTaGlwc09CSltzaGlwT0JKSW5kZXhdLnBsYWNlZCA9IHRydWU7XG4gICAgICBfcGxhY2VkU2hpcHMucHVzaChsZW5ndGgpO1xuXG4gICAgICBjaGVja2VkQ29vcmQuZm9yRWFjaCgoYUNvb3JkaW5hdGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3eCA9IGFDb29yZGluYXRlWzBdO1xuICAgICAgICBjb25zdCBuZXd5ID0gYUNvb3JkaW5hdGVbMV07XG5cbiAgICAgICAgZ2FtZUFyZW5hW25ld3ldW25ld3hdID0gc2hpcE9CSkluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtaXNzZWRTaG90cyA9IFtdO1xuXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoeCwgeSkgPT4ge1xuICAgIGlmIChnYW1lQXJlbmFbeV1beF0gIT09IDApIHtcbiAgICAgIGNvbnN0IHNoaXBPQkpJbmRleCA9IGdhbWVBcmVuYVt5XVt4XTtcbiAgICAgIGN1cnJlbnRTaGlwc09CSltzaGlwT0JKSW5kZXhdLmhpdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaXNzZWRTaG90cy5wdXNoKFt4LCB5XSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFsbFNoaXBzU3VuayA9ICgpID0+IHtcbiAgICBsZXQgY291bnRlciA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCAxMTsgaSsrKSB7XG4gICAgICBpZiAoY3VycmVudFNoaXBzT0JKW2ldLmlzU3VuaygpKSB7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvdW50ZXIgPj0gMTApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBwbGFjZVNoaXAsXG4gICAgZ2FtZUFyZW5hLFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgYWxsU2hpcHNTdW5rLFxuICAgIG1pc3NlZFNob3RzLFxuICAgIGN1cnJlbnRTaGlwc09CSixcbiAgfTtcbn1cbiIsImltcG9ydCBHYW1lYm9hcmQgZnJvbSBcIi4vZ2FtZWJvYXJkXCI7XG5cbmNvbnNvbGUubG9nKFwidGVzdFwiKTtcbmNvbnNvbGUubG9nKFwiY2hhbmdlXCIpO1xuXG5mdW5jdGlvbiBnZXRCb3hET00oYXJlYSwgeCwgeSkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAvLyAucm93W2RhdGEteD1cIjBcIl0gLmJveFtkYXRhLXk9XCIwXCJdIHtcbiAgICBgLiR7YXJlYX0gLnJvd1tkYXRhLXg9XCIke3h9XCJdIC5ib3hbZGF0YS15PVwiJHt5fVwiXWBcbiAgKTtcbn1cblxuY29uc3QgdGVzdCA9IGdldEJveERPTShcImVuZW15QXJlYVwiLCAwLCAwKTtcblxuY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XG4gIGNvbnN0IGdhbWVPdmVyID0gZmFsc2U7XG5cbiAgLy8gWzQsIDQsIDQsIDQsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuXG4gIC8vICAgd2hpbGUgKCFnYW1lT3Zlcikge1xuICBjb25zdCBwbGF5ZXJHYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcbiAgY29uc3QgZW5lbXlHYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcblxuICBwbGF5ZXJHYW1lYm9hcmQucGxhY2VTaGlwKDQsIDAsIDAsIHRydWUpO1xuICBwbGF5ZXJHYW1lYm9hcmQucGxhY2VTaGlwKDMsIDYsIDAsIHRydWUpO1xuICBwbGF5ZXJHYW1lYm9hcmQucGxhY2VTaGlwKDMsIDAsIDEsIHRydWUpO1xuICBwbGF5ZXJHYW1lYm9hcmQucGxhY2VTaGlwKDIsIDAsIDMsIHRydWUpO1xuICBwbGF5ZXJHYW1lYm9hcmQucGxhY2VTaGlwKDIsIDAsIDUsIHRydWUpO1xuICBwbGF5ZXJHYW1lYm9hcmQucGxhY2VTaGlwKDIsIDksIDYsIGZhbHNlKTtcbiAgcGxheWVyR2FtZWJvYXJkLnBsYWNlU2hpcCgxLCAyLCA3LCB0cnVlKTtcbiAgcGxheWVyR2FtZWJvYXJkLnBsYWNlU2hpcCgxLCAzLCA4LCB0cnVlKTtcbiAgcGxheWVyR2FtZWJvYXJkLnBsYWNlU2hpcCgxLCA0LCA5LCB0cnVlKTtcbiAgcGxheWVyR2FtZWJvYXJkLnBsYWNlU2hpcCgxLCA3LCA5LCB0cnVlKTtcblxuICBjb25zb2xlLnRhYmxlKHBsYXllckdhbWVib2FyZC5nYW1lQXJlbmEpO1xuICAvLyAgIH1cbn07XG5cbmdhbWVMb29wKCk7XG5jb25zb2xlLmxvZyh0ZXN0KTtcbiJdLCJuYW1lcyI6WyJTaGlwIiwibGVuZ3RoIiwiX2hpdHMiLCJfbGVuZ3RoIiwiaXNTdW5rIiwiaGl0IiwicGxhY2VkIiwiR2FtZWJvYXJkIiwiZ2FtZUFyZW5hIiwiY3VycmVudFNoaXBzT0JKIiwiX3BsYWNlZFNoaXBzIiwic2hpcE51bWJlclJ1bGVzUGFzc2VkIiwibGVuZ3RoT2NjY3VyZWQiLCJ0YXJnZXRMZW5ndGgiLCJpIiwiX29jY3VyYW5jZXMiLCJtaXNzZWRTaG90cyIsInBsYWNlU2hpcCIsIngiLCJ5IiwiaG9yaXpvbnRhbGx5IiwiRXJyb3IiLCJlIiwiY29uc29sZSIsImVycm9yIiwiY2hlY2tlZENvb3JkIiwibmFpdmVDb29yIiwicmVzdWx0IiwibmV3WCIsInB1c2giLCJuZXdZIiwiYWxsb3dlZCIsImZvckVhY2giLCJjb29yZGluYXRlIiwiYW5YIiwiYW5ZIiwiY2hlY2tGb3JPdmVybGFwIiwiY2hlY2tDb29yZCIsInNoaXBPQkpJbmRleCIsImluZGV4IiwibmV3U2hpcEluZGV4IiwiYUNvb3JkaW5hdGUiLCJuZXd4IiwibmV3eSIsInJlY2VpdmVBdHRhY2siLCJhbGxTaGlwc1N1bmsiLCJjb3VudGVyIiwibG9nIiwidGVzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBsYXllckdhbWVib2FyZCIsInRhYmxlIiwiZ2FtZUxvb3AiXSwic291cmNlUm9vdCI6IiJ9