(()=>{"use strict";function e(e){let r=0;const t=e;return{isSunk:()=>r>=t,hit:()=>{r+=1},_length:t,placed:!1,coordinates:void 0}}function r(){const r=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],t=[null,e(4),e(3),e(3),e(2),e(2),e(2),e(1),e(1),e(1),e(1)],o=[],c=e=>{let r=0;return(t=>{for(let t=0;t<o.length;t++)o[t]===e&&r++})(),r<{1:4,2:3,3:2,4:1}[e]},l=[];return{placeShip:(e,l,n,p)=>{if(l<0||n<0||l>10||n>10)throw new Error((e=>{console.error("can't place ship here or no more of these ships or ship too big")}));if(!c)throw new Error((e=>{console.error("can't put anymore of these ships")}));let i;if((()=>{const t=(()=>{const r=[];if(p){if(p){let t=l;for(let o=0;o<e;o++)if(r.push([t,n]),t++,t>10)throw new Error("Boat out of game!")}}else{let t=n;for(let o=0;o<e;o++)if(r.push([l,t]),t++,t>10)throw new Error("boat out of game!")}return r})();return!!(()=>{let e=!0;return t.forEach((t=>{const o=t[0],c=t[1];0!==r[c][o]&&(e=!1)})),e})()&&(i=[...t],!0)})()&&c(e)){const c=(e=>{let r;for(let o=0;o<=10;o++)if(null!=t[o]&&t[o]._length===e&&!1===t[o].placed){r=o;break}return r})(e);t[c].placed=!0,o.push(e),t[c].coordinates=i,i.forEach((e=>{const t=e[0],o=e[1];r[o][t]=c}))}},gameArena:r,receiveAttack:(e,o)=>{if(0!==r[o][e]){const c=r[o][e];t[c].hit()}else l.push([e,o])},allShipsSunk:()=>{let e=0;for(let r=1;r<11;r++)t[r].isSunk()&&e++;return e>=10},missedShots:l,currentShipsOBJ:t}}const t=function(){const e=(e,r,t)=>document.querySelector(`.${e} .row[data-x="${r}"] .box[data-y="${t}"]`);return{renderExistingBoats:(r,t)=>{const o=([r,o])=>{e(t,r,o).style.backgroundColor="grey"};r.currentShipsOBJ.forEach((e=>{null==e||e.coordinates.forEach(o)}))},getBoxDOM:e}}();console.log("test"),console.log("change"),(()=>{const e=r();var o,c;c=r(),(o=e).placeShip(4,0,0,!0),o.placeShip(3,6,0,!0),o.placeShip(3,0,1,!0),o.placeShip(2,0,3,!0),o.placeShip(2,0,5,!0),o.placeShip(2,9,6,!1),o.placeShip(1,2,7,!0),o.placeShip(1,3,8,!0),o.placeShip(1,4,9,!0),o.placeShip(1,7,9,!0),c.placeShip(4,0,0,!0),c.placeShip(3,6,0,!0),c.placeShip(3,0,1,!0),c.placeShip(2,0,3,!0),c.placeShip(2,0,5,!0),c.placeShip(2,9,6,!1),c.placeShip(1,2,7,!0),c.placeShip(1,3,8,!0),c.placeShip(1,4,9,!0),c.placeShip(1,7,9,!0),t.renderExistingBoats(e,"playerArea")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsRUFBRyxHQUFHLEdBQzlCMkMsRUFBVzNDLFVBQVUsRUFBRyxFQUFHLEdBQUcsR0FDOUIyQyxFQUFXM0MsVUFBVSxFQUFHLEVBQUcsR0FBRyxHQUM5QjJDLEVBQVczQyxVQUFVLEVBQUcsRUFBRyxHQUFHLEdBQzlCMkMsRUFBVzNDLFVBQVUsRUFBRyxFQUFHLEdBQUcsR0FRaEM0QyxFQUFhVixvQkFBb0JPLEVBQWlCLGFBQWEsRUFLakVJLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXBzLy4vc3JjL2xvZ2ljL3NoaXAuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwcy8uL3NyYy9sb2dpYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwcy8uL3NyYy9sb2dpYy9VSWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwcy8uL3NyYy9sb2dpYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaGlwKGxlbmd0aCkge1xuICBsZXQgX2hpdHMgPSAwO1xuICBjb25zdCBfbGVuZ3RoID0gbGVuZ3RoO1xuICBjb25zdCBwbGFjZWQgPSBmYWxzZTtcbiAgbGV0IGNvb3JkaW5hdGVzO1xuXG4gIGNvbnN0IGhpdCA9ICgpID0+IHtcbiAgICBfaGl0cyArPSAxO1xuICB9O1xuXG4gIGNvbnN0IGlzU3VuayA9ICgpID0+IF9oaXRzID49IF9sZW5ndGg7XG5cbiAgLy8gICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAvLyAgIHRoaXMuX3N1bmsgPSBmYWxzZTtcbiAgLy8gICB0aGlzLl9oaXRzID0gMDtcblxuICAvLyAgIGZ1bmN0aW9uIGhpdCgpIHtcbiAgLy8gICAgIHRoaXMuX2hpdHMgPSArMTtcbiAgLy8gICAgIC8vXG4gIC8vICAgfVxuXG4gIC8vICAgZnVuY3Rpb24gaXNTdW5rKCkge1xuICAvLyAgICAgcmV0dXJuIHRoaXMuX2hpdHMgPj0gbGVuZ3RoID8gdHJ1ZSA6IGZhbHNlO1xuICAvLyAgICAgLy9cbiAgLy8gICB9XG5cbiAgcmV0dXJuIHsgaXNTdW5rLCBoaXQsIF9sZW5ndGgsIHBsYWNlZCwgY29vcmRpbmF0ZXMgfTtcbn1cbiIsImltcG9ydCBTaGlwIGZyb20gXCIuL3NoaXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZWJvYXJkKCkge1xuICAvLyBlYWNoIG51bWJlciBjb3JyZXNwb25kcyB0byBpbmRleCBvZiBjdXJyZW50U2hpcHNPQkpcbiAgY29uc3QgZ2FtZUFyZW5hID0gW1xuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgXTtcblxuICBjb25zdCBjdXJyZW50U2hpcHNPQkogPSBbXG4gICAgbnVsbCxcbiAgICBTaGlwKDQpLFxuICAgIFNoaXAoMyksXG4gICAgU2hpcCgzKSxcbiAgICBTaGlwKDIpLFxuICAgIFNoaXAoMiksXG4gICAgU2hpcCgyKSxcbiAgICBTaGlwKDEpLFxuICAgIFNoaXAoMSksXG4gICAgU2hpcCgxKSxcbiAgICBTaGlwKDEpLFxuICBdO1xuXG4gIGNvbnN0IG5ld1NoaXBJbmRleCA9IChsZW5ndGgpID0+IHtcbiAgICBsZXQgaW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJUSElTXCIsIGN1cnJlbnRTaGlwc09CSltpXS5fbGVuZ3RoKTtcbiAgICAgIGlmIChjdXJyZW50U2hpcHNPQkpbaV0gPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudFNoaXBzT0JKW2ldLl9sZW5ndGggPT09IGxlbmd0aCAmJlxuICAgICAgICBjdXJyZW50U2hpcHNPQkpbaV0ucGxhY2VkID09PSBmYWxzZVxuICAgICAgKSB7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfTtcblxuICBjb25zdCBfcGxhY2VkU2hpcHMgPSBbXTtcblxuICBjb25zdCBzaGlwTnVtYmVyUnVsZXNQYXNzZWQgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgX2FsbG93ZWRPY2N1cmFuY2VzID0ge1xuICAgICAgMTogNCxcbiAgICAgIDI6IDMsXG4gICAgICAzOiAyLFxuICAgICAgNDogMSxcbiAgICB9O1xuICAgIGxldCBsZW5ndGhPY2NjdXJlZCA9IDA7XG4gICAgY29uc3QgX29jY3VyYW5jZXMgPSAodGFyZ2V0TGVuZ3RoKSA9PiB7XG4gICAgICAvLyBsZXQgY291bnRlciA9IDA7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX3BsYWNlZFNoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChfcGxhY2VkU2hpcHNbaV0gPT09IGxlbmd0aCkge1xuICAgICAgICAgIGxlbmd0aE9jY2N1cmVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIF9vY2N1cmFuY2VzKCk7XG5cbiAgICBpZiAobGVuZ3RoT2NjY3VyZWQgPCBfYWxsb3dlZE9jY3VyYW5jZXNbbGVuZ3RoXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGNvbnN0IHBsYWNlU2hpcCA9IChsZW5ndGgsIHgsIHksIGhvcml6b250YWxseSkgPT4ge1xuICAgIC8vIHRlc3QgdmFsaWRpdHkgb2YgY28tb3JkIG9yIGFtb3VudCBvZiBzaGlwc1xuICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID4gMTAgfHwgeSA+IDEwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImNhbid0IHBsYWNlIHNoaXAgaGVyZSBvciBubyBtb3JlIG9mIHRoZXNlIHNoaXBzIG9yIHNoaXAgdG9vIGJpZ1wiXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXNoaXBOdW1iZXJSdWxlc1Bhc3NlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYW4ndCBwdXQgYW55bW9yZSBvZiB0aGVzZSBzaGlwc1wiKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBjaGVja2VkQ29vcmQ7XG5cbiAgICBjb25zdCBjaGVja0Nvb3JkID0gKCkgPT4ge1xuICAgICAgLy8gd2hhdCB3b3VsZCB0aGV5IGJlIG5haXZlbHlcblxuICAgICAgY29uc3QgbmFpdmVDb29yID0gKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgaWYgKCFob3Jpem9udGFsbHkpIHtcbiAgICAgICAgICBsZXQgbmV3WSA9IHk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3gsIG5ld1ldKTtcbiAgICAgICAgICAgIG5ld1krKztcbiAgICAgICAgICAgIGlmIChuZXdZID4gMTApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYm9hdCBvdXQgb2YgZ2FtZSFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGhvcml6b250YWxseSkge1xuICAgICAgICAgIGxldCBuZXdYID0geDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbbmV3WCwgeV0pO1xuICAgICAgICAgICAgbmV3WCsrO1xuICAgICAgICAgICAgaWYgKG5ld1ggPiAxMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb2F0IG91dCBvZiBnYW1lIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSkoKTtcblxuICAgICAgY29uc3QgY2hlY2tGb3JPdmVybGFwID0gKCkgPT4ge1xuICAgICAgICBsZXQgYWxsb3dlZCA9IHRydWU7XG5cbiAgICAgICAgbmFpdmVDb29yLmZvckVhY2goKGNvb3JkaW5hdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBhblggPSBjb29yZGluYXRlWzBdO1xuICAgICAgICAgIGNvbnN0IGFuWSA9IGNvb3JkaW5hdGVbMV07XG5cbiAgICAgICAgICAvLyBpbiBnYW1lYXJlbmEgZmlyc3QgaGF2ZSB0byBhY2Nlc3MgWVxuXG4gICAgICAgICAgaWYgKGdhbWVBcmVuYVthblldW2FuWF0gIT09IDApIHtcbiAgICAgICAgICAgIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhbGxvd2VkO1xuICAgICAgfTtcblxuICAgICAgaWYgKGNoZWNrRm9yT3ZlcmxhcCgpKSB7XG4gICAgICAgIGNoZWNrZWRDb29yZCA9IFsuLi5uYWl2ZUNvb3JdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBjb25zb2xlLmxvZyhcIlRISVNcIiwgc2hpcE51bWJlclJ1bGVzUGFzc2VkKGxlbmd0aCkpO1xuICAgIGlmIChjaGVja0Nvb3JkKCkgJiYgc2hpcE51bWJlclJ1bGVzUGFzc2VkKGxlbmd0aCkpIHtcbiAgICAgIGNvbnN0IHNoaXBPQkpJbmRleCA9IG5ld1NoaXBJbmRleChsZW5ndGgpO1xuICAgICAgY3VycmVudFNoaXBzT0JKW3NoaXBPQkpJbmRleF0ucGxhY2VkID0gdHJ1ZTtcbiAgICAgIF9wbGFjZWRTaGlwcy5wdXNoKGxlbmd0aCk7XG5cbiAgICAgIGN1cnJlbnRTaGlwc09CSltzaGlwT0JKSW5kZXhdLmNvb3JkaW5hdGVzID0gY2hlY2tlZENvb3JkO1xuICAgICAgY2hlY2tlZENvb3JkLmZvckVhY2goKGFDb29yZGluYXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld3ggPSBhQ29vcmRpbmF0ZVswXTtcbiAgICAgICAgY29uc3QgbmV3eSA9IGFDb29yZGluYXRlWzFdO1xuXG4gICAgICAgIGdhbWVBcmVuYVtuZXd5XVtuZXd4XSA9IHNoaXBPQkpJbmRleDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbWlzc2VkU2hvdHMgPSBbXTtcblxuICBjb25zdCByZWNlaXZlQXR0YWNrID0gKHgsIHkpID0+IHtcbiAgICBpZiAoZ2FtZUFyZW5hW3ldW3hdICE9PSAwKSB7XG4gICAgICBjb25zdCBzaGlwT0JKSW5kZXggPSBnYW1lQXJlbmFbeV1beF07XG4gICAgICBjdXJyZW50U2hpcHNPQkpbc2hpcE9CSkluZGV4XS5oaXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWlzc2VkU2hvdHMucHVzaChbeCwgeV0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoKSA9PiB7XG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTE7IGkrKykge1xuICAgICAgaWYgKGN1cnJlbnRTaGlwc09CSltpXS5pc1N1bmsoKSkge1xuICAgICAgICBjb3VudGVyKys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb3VudGVyID49IDEwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcGxhY2VTaGlwLFxuICAgIGdhbWVBcmVuYSxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIGFsbFNoaXBzU3VuayxcbiAgICBtaXNzZWRTaG90cyxcbiAgICBjdXJyZW50U2hpcHNPQkosXG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gVUljb250cm9sbGVyKCkge1xuICBjb25zdCBnZXRCb3hET00gPSAoYXJlYSwgeCwgeSkgPT5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHthcmVhfSAucm93W2RhdGEteD1cIiR7eH1cIl0gLmJveFtkYXRhLXk9XCIke3l9XCJdYCk7XG5cbiAgY29uc3QgcmVuZGVyRXhpc3RpbmdCb2F0cyA9IChnYW1lQXJlbmEsIHBsYXllckFyZWFET00pID0+IHtcbiAgICBjb25zdCB1cGRhdGVFYWNoRE9NQ29vcmRpbmF0ZSA9IChbeCwgeV0pID0+IHtcbiAgICAgIGdldEJveERPTShwbGF5ZXJBcmVhRE9NLCB4LCB5KS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbiAgICB9O1xuXG4gICAgZ2FtZUFyZW5hLmN1cnJlbnRTaGlwc09CSi5mb3JFYWNoKChhU2hpcCkgPT4ge1xuICAgICAgaWYgKGFTaGlwID09IG51bGwpIHtcbiAgICAgICAgLy8gbnVsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYVNoaXAuY29vcmRpbmF0ZXMuZm9yRWFjaCh1cGRhdGVFYWNoRE9NQ29vcmRpbmF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHsgcmVuZGVyRXhpc3RpbmdCb2F0cywgZ2V0Qm94RE9NIH07XG59KSgpO1xuIiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCBVSWNvbnRyb2xsZXIgZnJvbSBcIi4vVUljb250cm9sbGVyXCI7XG5cbmNvbnNvbGUubG9nKFwidGVzdFwiKTtcbmNvbnNvbGUubG9nKFwiY2hhbmdlXCIpO1xuXG4vLyBjb25zdCB0ZXN0ID0gZ2V0Qm94RE9NKFwiZW5lbXlBcmVhXCIsIDAsIDApO1xuXG5jb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcbiAgY29uc3QgZ2FtZU92ZXIgPSBmYWxzZTtcblxuICAvLyBbNCwgNCwgNCwgNCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIC8vIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgLy8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAvLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG5cbiAgY29uc3Qgc2V0VXBQbGFjZW1lbnRzID0gKGdhbWVib2FyZDEsIGdhbWVib2FyZDIpID0+IHtcbiAgICBnYW1lYm9hcmQxLnBsYWNlU2hpcCg0LCAwLCAwLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQxLnBsYWNlU2hpcCgzLCA2LCAwLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQxLnBsYWNlU2hpcCgzLCAwLCAxLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQxLnBsYWNlU2hpcCgyLCAwLCAzLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQxLnBsYWNlU2hpcCgyLCAwLCA1LCB0cnVlKTtcbiAgICBnYW1lYm9hcmQxLnBsYWNlU2hpcCgyLCA5LCA2LCBmYWxzZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMSwgMiwgNywgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMSwgMywgOCwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMSwgNCwgOSwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMS5wbGFjZVNoaXAoMSwgNywgOSwgdHJ1ZSk7XG5cbiAgICBnYW1lYm9hcmQyLnBsYWNlU2hpcCg0LCAwLCAwLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQyLnBsYWNlU2hpcCgzLCA2LCAwLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQyLnBsYWNlU2hpcCgzLCAwLCAxLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQyLnBsYWNlU2hpcCgyLCAwLCAzLCB0cnVlKTtcbiAgICBnYW1lYm9hcmQyLnBsYWNlU2hpcCgyLCAwLCA1LCB0cnVlKTtcbiAgICBnYW1lYm9hcmQyLnBsYWNlU2hpcCgyLCA5LCA2LCBmYWxzZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgMiwgNywgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgMywgOCwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgNCwgOSwgdHJ1ZSk7XG4gICAgZ2FtZWJvYXJkMi5wbGFjZVNoaXAoMSwgNywgOSwgdHJ1ZSk7XG4gIH07XG5cbiAgLy8gICB3aGlsZSAoIWdhbWVPdmVyKSB7XG4gIGNvbnN0IHBsYXllckdhbWVib2FyZCA9IEdhbWVib2FyZCgpO1xuICBjb25zdCBlbmVteUdhbWVib2FyZCA9IEdhbWVib2FyZCgpO1xuICBzZXRVcFBsYWNlbWVudHMocGxheWVyR2FtZWJvYXJkLCBlbmVteUdhbWVib2FyZCk7XG5cbiAgVUljb250cm9sbGVyLnJlbmRlckV4aXN0aW5nQm9hdHMocGxheWVyR2FtZWJvYXJkLCBcInBsYXllckFyZWFcIik7XG5cbiAgLy8gICB9XG59O1xuXG5nYW1lTG9vcCgpO1xuIl0sIm5hbWVzIjpbIlNoaXAiLCJsZW5ndGgiLCJfaGl0cyIsIl9sZW5ndGgiLCJpc1N1bmsiLCJoaXQiLCJwbGFjZWQiLCJjb29yZGluYXRlcyIsIkdhbWVib2FyZCIsImdhbWVBcmVuYSIsImN1cnJlbnRTaGlwc09CSiIsIl9wbGFjZWRTaGlwcyIsInNoaXBOdW1iZXJSdWxlc1Bhc3NlZCIsImxlbmd0aE9jY2N1cmVkIiwidGFyZ2V0TGVuZ3RoIiwiaSIsIl9vY2N1cmFuY2VzIiwibWlzc2VkU2hvdHMiLCJwbGFjZVNoaXAiLCJ4IiwieSIsImhvcml6b250YWxseSIsIkVycm9yIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImNoZWNrZWRDb29yZCIsIm5haXZlQ29vciIsInJlc3VsdCIsIm5ld1giLCJwdXNoIiwibmV3WSIsImFsbG93ZWQiLCJmb3JFYWNoIiwiY29vcmRpbmF0ZSIsImFuWCIsImFuWSIsImNoZWNrRm9yT3ZlcmxhcCIsImNoZWNrQ29vcmQiLCJzaGlwT0JKSW5kZXgiLCJpbmRleCIsIm5ld1NoaXBJbmRleCIsImFDb29yZGluYXRlIiwibmV3eCIsIm5ld3kiLCJyZWNlaXZlQXR0YWNrIiwiYWxsU2hpcHNTdW5rIiwiY291bnRlciIsImdldEJveERPTSIsImFyZWEiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW5kZXJFeGlzdGluZ0JvYXRzIiwicGxheWVyQXJlYURPTSIsInVwZGF0ZUVhY2hET01Db29yZGluYXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhU2hpcCIsImxvZyIsInBsYXllckdhbWVib2FyZCIsImdhbWVib2FyZDEiLCJnYW1lYm9hcmQyIiwiVUljb250cm9sbGVyIiwiZ2FtZUxvb3AiXSwic291cmNlUm9vdCI6IiJ9